"use strict";const e=require("../../../common/vendor.js"),a=require("../../../utils/request.js"),l=require("../../utils/imageParser.js"),u=require("../../../utils/constants.js");if(!Array){(e.resolveComponent("uni-icons")+e.resolveComponent("uni-popup"))()}Math||((()=>"../../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+(()=>"../../../uni_modules/uni-popup/components/uni-popup/uni-popup.js"))();const t={__name:"exam",setup(t){const o=e.ref({}),n=e.ref(0),v=e.ref(0),s=e.ref(0),c=e.ref("full"),r=e.ref(null),i=e.ref(1),p=e.ref(0),d=e.ref(0),f=e.ref(""),m=e.ref(""),h=e.ref(0),g=e.ref(""),w=e.ref({bank_name:"",total_questions:0}),_=e.ref([]),y=e.ref(0),x=e.ref(null),q=e.ref(1),b=e.ref(null),$=e.ref(0),I=e.ref(!0),k=e.ref(!0),T=e.ref({}),j=e.ref(!1),N=e.ref({}),C=e.ref([]),L=e.ref(!1),B=e.ref({answered_count:0,correct_count:0,wrong_count:0,accuracy:0}),z=e.ref(!1),M=e.ref(null),A=e.computed((()=>"full"===c.value||"chapter"===c.value)),P=e.computed((()=>"special"===c.value)),U=e.computed((()=>"random"===c.value)),R=e.computed((()=>"real"===c.value)),S=e.computed((()=>!U.value)),O=e.computed((()=>U.value)),E=()=>U.value?`random_${q.value}`:R.value?`real_${h.value}_${q.value}`:P.value?`special_${d.value}_${q.value}`:x.value?`${x.value.id}_${q.value}`:"",F=e.computed((()=>T.value[E()]||"")),Q=e.computed((()=>{var e,a;return R.value?g.value||"ÁúüÈ¢òÁªÉ‰π†":U.value?f.value?`${f.value} ÈöèÊú∫ÁªÉ‰π†`:"ÈöèÊú∫ÁªÉ‰π†":P.value?(null==(e=x.value)?void 0:e.chapter_name)||f.value||"‰∏ìÈ°πËÆ≠ÁªÉ":"chapter"===c.value&&(null==(a=x.value)?void 0:a.chapter_name)||w.value.bank_name})),G=e.computed((()=>U.value?C.value.length:P.value||R.value||"chapter"===c.value?$.value:w.value.total_questions)),H=e.computed((()=>{var e;if(P.value||U.value||R.value||"chapter"===c.value)return`Á¨¨ ${q.value} / ${G.value} È¢ò`;let a=0;_.value.forEach(((e,l)=>{l<y.value&&(a+=e.question_count)})),a+=q.value;const l=(null==(e=x.value)?void 0:e.chapter_name)||"";return`Á¨¨ ${a} / ${w.value.total_questions} È¢ò (${l})`})),D=e.computed((()=>{if(U.value)return 0;if(P.value||R.value||"chapter"===c.value)return G.value>0?Math.round(q.value/G.value*100):0;let e=0,a=0;return _.value.forEach(((l,u)=>{e+=l.question_count,u<y.value&&(a+=l.question_count)})),a+=q.value,e>0?Math.round(a/e*100):0})),J=e.computed((()=>Object.keys(T.value).length)),K=e.computed((()=>Object.keys(T.value).filter((e=>{const a=T.value[e];return xe(e,a)})).length)),V=e.computed((()=>J.value-K.value)),W=e.computed((()=>0===J.value?0:Math.round(K.value/J.value*100))),X=e.computed((()=>!!F.value&&F.value===me(b.value.answer))),Y=e.computed((()=>{var e;return(null==(e=b.value)?void 0:e.bank_id)||s.value||0})),Z=e.computed((()=>{if(!b.value||!b.value.content)return"";const e=u.API_CONFIG.BASE_URL.replace("/api","");return l.parseQuestionImages(b.value.content,Y.value,e)})),ee=e.computed((()=>{if(!b.value||!b.value.explanation)return"";const e=u.API_CONFIG.BASE_URL.replace("/api","");return l.parseQuestionImages(b.value.explanation,Y.value,e)})),ae=e.computed((()=>{if(!b.value)return[];const e=u.API_CONFIG.BASE_URL.replace("/api","");return l.extractAllQuestionImages(b.value,Y.value,e)}));e.onMounted((async()=>{try{const a=e.index.getMenuButtonBoundingClientRect(),l=e.index.getSystemInfoSync();o.value=a,n.value=l.statusBarHeight||0;const u=a.top-n.value;v.value=a.height+2*u+n.value}catch(t){console.error("Ëé∑ÂèñËÉ∂ÂõäÊåâÈíÆ‰ø°ÊÅØÂ§±Ë¥•:",t)}const a=getCurrentPages(),l=a[a.length-1].options;c.value=l.mode||"full",s.value=parseInt(l.bankId)||0,p.value=parseInt(l.subjectId)||0,d.value=parseInt(l.subjectChapterId||l.chapterId)||0,h.value=parseInt(l.paperId)||0,f.value=l.subjectName?decodeURIComponent(l.subjectName):"",m.value=l.chapterName?decodeURIComponent(l.chapterName):"",g.value=l.paperName?decodeURIComponent(l.paperName):"",r.value=parseInt(l.chapterId)||null,i.value=parseInt(l.questionNumber)||1;const u=A.value&&!s.value?"È¢òÂ∫ìÂèÇÊï∞ÈîôËØØ":!P.value||p.value&&d.value?U.value&&!p.value?"ÁßëÁõÆÂèÇÊï∞ÈîôËØØ":R.value&&!h.value?"ËØïÂç∑ÂèÇÊï∞ÈîôËØØ":"":"ÁßëÁõÆÁ´†ËäÇÂèÇÊï∞ÈîôËØØ";if(u)return e.index.showToast({title:u,icon:"none"}),void setTimeout((()=>{e.index.navigateBack()}),1500);await ue(),e.index.onAppHide((()=>{le()}))}));const le=async()=>{A.value?await $e():P.value&&await ke()};e.onUnmounted((()=>{le()})),e.watch([q,y],(([e,a],[l,u])=>{(void 0!==l&&e!==l||void 0!==u&&a!==u)&&le()}));const ue=async()=>{z.value=!0;try{if(U.value)return void(await oe());if(P.value)return void(await te());if(R.value)return void(await ne());console.log("üìñ ÂºÄÂßãÂàùÂßãÂåñËÄÉËØïÔºåÂèÇÊï∞:",{bankId:s.value,mode:c.value,chapterId:r.value,questionNumber:i.value});const l=await a.get(`/questions/banks/${s.value}`,{},{showLoading:!1});console.log("‚úÖ È¢òÂ∫ì‰ø°ÊÅØ:",l),w.value={bank_name:l.name||"È¢òÂ∫ì",total_questions:l.question_count||0};const u=await a.get(`/question-banks/${s.value}/chapters`,{},{showLoading:!1});if(console.log("‚úÖ Á´†ËäÇÂàóË°®:",u),_.value=u.chapters||[],0===_.value.length)return e.index.showToast({title:"ËØ•È¢òÂ∫ìÊöÇÊó†Á´†ËäÇ",icon:"none"}),void setTimeout((()=>e.index.navigateBack()),1500);if(r.value){const e=_.value.findIndex((e=>e.id===r.value));y.value=e>=0?e:0,console.log(`üìç ÊâæÂà∞Ëµ∑ÂßãÁ´†ËäÇÔºåÁ¥¢Âºï: ${y.value}`)}else y.value=0,console.log("üìç ‰ΩøÁî®Á¨¨‰∏Ä‰∏™Á´†ËäÇ");x.value=_.value[y.value],q.value=i.value,console.log("üìç ÂΩìÂâçÁ´†ËäÇ:",x.value),console.log("üìç Ëµ∑ÂßãÈ¢òÂè∑:",q.value),await ve(),console.log(`‚úÖ ÂàùÂßãÂåñÂÆåÊàêÔºåÂºÄÂßã${"chapter"===c.value?"Á´†ËäÇ":"Êï¥Âç∑"}ÁªÉ‰π†`)}catch(l){console.error("‚ùå ÂàùÂßãÂåñÂ§±Ë¥•:",l),e.index.showToast({title:l.message||"Âä†ËΩΩÂ§±Ë¥•",icon:"none"}),setTimeout((()=>e.index.navigateBack()),1500)}finally{z.value=!1,console.log("‚úÖ ÂàùÂßãÂåñloadingÁä∂ÊÄÅÂ∑≤ÈáçÁΩÆ")}},te=async()=>{console.log("üìò ÂàùÂßãÂåñ‰∏ìÈ°πËÆ≠ÁªÉ",{subjectId:p.value,subjectChapterId:d.value}),_.value=[],y.value=0,x.value={id:d.value,chapter_name:m.value||f.value||"‰∏ìÈ°πËÆ≠ÁªÉ"},w.value={bank_name:x.value.chapter_name,total_questions:0},q.value=i.value,await ve()},oe=async()=>{console.log("üìò ÂàùÂßãÂåñÈöèÊú∫ÁªÉ‰π†",{subjectId:p.value}),_.value=[],y.value=0,x.value=null,C.value=[];const l=await a.get(`/subjects/${p.value}/random`,{count:10},{showLoading:!1});if(C.value=l.questions||[],$.value=C.value.length,w.value={bank_name:f.value||"ÈöèÊú∫ÁªÉ‰π†",total_questions:$.value},await je(),!C.value.length)return e.index.showToast({title:"ÊöÇÊó†ÂèØÁî®È¢òÁõÆ",icon:"none"}),void setTimeout((()=>e.index.navigateBack()),1500);q.value=Math.min(i.value,$.value||1),await ve()},ne=async()=>{console.log("üìò ÂàùÂßãÂåñÁúüÈ¢òÁªÉ‰π†",{paperId:h.value}),_.value=[],y.value=0,x.value=null,w.value={bank_name:g.value||"ÁúüÈ¢òÁªÉ‰π†",total_questions:0},q.value=i.value,await ve()},ve=async()=>{if(U.value)await ce();else if(P.value)await se();else if(R.value)await re();else if(x.value){z.value=!0;try{console.log(`üìñ ÂºÄÂßãÂä†ËΩΩÈ¢òÁõÆ: È¢òÂ∫ì${s.value}, Á´†ËäÇ${x.value.id}, È¢òÂè∑${q.value}`);const l=await a.get(`/question-banks/${s.value}/chapters/${x.value.id}/questions`,{questionNumber:q.value},{showLoading:!1});if(console.log("üì° È¢òÁõÆÊï∞ÊçÆÂìçÂ∫î:",l),l&&l.question){if(b.value=l.question,$.value=l.total||0,I.value=l.hasNext||!1,k.value=l.hasPrev||!1,"full"===c.value&&_.value.length>0){let e=0;_.value.forEach((a=>{e+=a.question_count||0})),e>0&&(w.value.total_questions=e)}const e=E();N.value[e]=l.question,j.value=!1,console.log(`‚úÖ È¢òÁõÆÂä†ËΩΩÊàêÂäü: ${x.value.chapter_name} Á¨¨${q.value}È¢ò`)}else console.warn("‚ö†Ô∏è ÂìçÂ∫î‰∏≠Ê≤°ÊúâquestionÂ≠óÊÆµ:",l),"full"===c.value&&ie()?await de():e.index.showToast({title:"Â∑≤ÊòØÊúÄÂêé‰∏ÄÈ¢ò",icon:"none"})}catch(l){console.error("‚ùå Âä†ËΩΩÈ¢òÁõÆÂ§±Ë¥•:",l),e.index.showToast({title:l.message||"Âä†ËΩΩÂ§±Ë¥•",icon:"none"})}finally{z.value=!1,console.log("‚úÖ loadingÁä∂ÊÄÅÂ∑≤ÈáçÁΩÆ‰∏∫false")}}else console.error("‚ùå currentChapter is null")},se=async()=>{z.value=!0;try{const l=await a.get(`/subjects/${p.value}/chapters/${d.value}/questions`,{questionNumber:q.value},{showLoading:!1});if(l&&l.question){b.value=l.question,$.value=l.total||0,I.value=l.hasNext||!1,k.value=l.hasPrev||!1;const e=E();N.value[e]=l.question,j.value=!1}else e.index.showToast({title:"Â∑≤ÊòØÊúÄÂêé‰∏ÄÈ¢ò",icon:"none"})}catch(l){console.error("‚ùå Âä†ËΩΩ‰∏ìÈ°πÈ¢òÁõÆÂ§±Ë¥•:",l),e.index.showToast({title:l.message||"Âä†ËΩΩÂ§±Ë¥•",icon:"none"})}finally{z.value=!1}},ce=async()=>{$.value=C.value.length;const a=q.value-1,l=C.value[a];if(!l)return void e.index.showToast({title:"Â∑≤ÊòØÊúÄÂêé‰∏ÄÈ¢ò",icon:"none"});b.value=l,I.value=a<C.value.length-1,k.value=a>0;const u=E();N.value[u]=l,j.value=!1},re=async()=>{z.value=!0;try{const l=await a.get(`/real-exams/${h.value}/questions`,{questionNumber:q.value},{showLoading:!1});if(l&&l.question){b.value=l.question,$.value=l.total||0,w.value.total_questions=l.total||0,I.value=l.hasNext||!1,k.value=l.hasPrev||!1;const e=E();N.value[e]=l.question,j.value=!1}else e.index.showToast({title:"Â∑≤ÊòØÊúÄÂêé‰∏ÄÈ¢ò",icon:"none"})}catch(l){console.error("‚ùå Âä†ËΩΩÁúüÈ¢òÂ§±Ë¥•:",l),e.index.showToast({title:l.message||"Âä†ËΩΩÂ§±Ë¥•",icon:"none"})}finally{z.value=!1}},ie=()=>!!A.value&&y.value<_.value.length-1,pe=()=>!!A.value&&y.value>0,de=async()=>{ie()&&(y.value++,x.value=_.value[y.value],q.value=1,e.index.showToast({title:`ËøõÂÖ•${x.value.chapter_name}`,icon:"none",duration:1500}),await ve())},fe=e=>String.fromCharCode(65+e),me=e=>e?Array.isArray(e)?e.sort().join(""):e.toString().toUpperCase():"",he=e=>{const a=E(),l=T.value[a];if(!l)return!1;const u=fe(e);return"multiple"===b.value.type?l.includes(u):l===u},ge=e=>{const a=me(b.value.answer),l=fe(e);return"multiple"===b.value.type?a.includes(l):a===l},we=()=>{j.value=!j.value},_e=async()=>{k.value?(q.value--,await ve()):"full"===c.value&&pe()?e.index.showModal({title:"ËøîÂõû‰∏ä‰∏ÄÁ´†ËäÇ",content:"ÊòØÂê¶ËøîÂõû‰∏ä‰∏ÄÁ´†ËäÇÁöÑÊúÄÂêé‰∏ÄÈ¢òÔºü",success:async e=>{e.confirm&&await(async()=>{pe()&&(y.value--,x.value=_.value[y.value],q.value=x.value.question_count,await ve())})()}}):e.index.showToast({title:"Â∑≤ÊòØÁ¨¨‰∏ÄÈ¢ò",icon:"none"})},ye=async()=>{I.value?(q.value++,await ve()):"full"===c.value&&ie()?e.index.showModal({title:"Á´†ËäÇÂÆåÊàê",content:`„Äå${x.value.chapter_name}„ÄçÂ∑≤ÂÆåÊàê\n\nÊòØÂê¶ÁªßÁª≠‰∏ã‰∏ÄÁ´†ËäÇÔºü`,confirmText:"ÁªßÁª≠",cancelText:"ÈÄÄÂá∫",success:async e=>{e.confirm?await de():Le()}}):(e.index.showToast({title:"Êú¨Á´†ËäÇÂ∑≤ÂÆåÊàê",icon:"success"}),Ce())},xe=(e,a)=>{if(!a)return!1;const l=N.value[e];if(!l)return!1;return a===me(l.answer)},qe=()=>{M.value.open()},be=()=>{M.value.close()},$e=async()=>{if(A.value&&s.value&&x.value)try{if("chapter"===c.value)await a.post(`/user-progress/${s.value}/chapters/${x.value.id}`,{practice_mode:"chapter",current_question_number:q.value,completed_count:q.value,total_questions:$.value},{showLoading:!1}),console.log("üíæ Á´†ËäÇËøõÂ∫¶Â∑≤‰øùÂ≠ò:",{mode:"chapter",chapter:x.value.chapter_name,questionNumber:q.value,completedCount:q.value,total:$.value});else{let e=q.value;for(let a=0;a<y.value;a++)e+=_.value[a].question_count||0;await a.post(`/user-progress/${s.value}/chapters/0`,{practice_mode:"full",current_chapter_id:x.value.id,current_question_number:q.value,completed_count:e,total_questions:w.value.total_questions},{showLoading:!1}),console.log("üíæ Êï¥Âç∑ËøõÂ∫¶Â∑≤‰øùÂ≠ò:",{mode:"full",chapter:x.value.chapter_name,chapterQuestionNumber:q.value,totalCompleted:e,total:w.value.total_questions})}}catch(e){console.error("‰øùÂ≠òËøõÂ∫¶Â§±Ë¥•:",e)}},Ie=async()=>{e.index.showModal({title:"ÈáçÊñ∞ÁªÉ‰π†",content:"Á°ÆÂÆöË¶ÅÊ∏ÖÈô§ÂΩìÂâçÁ´†ËäÇËøõÂ∫¶ÔºåÈáçÊñ∞ÂºÄÂßãÁªÉ‰π†ÂêóÔºü",confirmText:"Á°ÆÂÆö",cancelText:"ÂèñÊ∂à",success:async l=>{if(l.confirm)try{if(e.index.showLoading({title:"ÈáçÁΩÆ‰∏≠..."}),!A.value)return q.value=1,T.value={},j.value=!1,N.value={},L.value=!1,await ve(),e.index.hideLoading(),void e.index.showToast({title:"Â∑≤ÈáçÊñ∞ÂºÄÂßã",icon:"success"});"chapter"===c.value?await a.del(`/user-progress/${s.value}/chapters/${x.value.id}`):await a.del(`/user-progress/${s.value}`),q.value=1,T.value={},j.value=!1,N.value={},L.value=!1,await ve(),e.index.hideLoading(),e.index.showToast({title:"Â∑≤ÈáçÊñ∞ÂºÄÂßã",icon:"success"}),console.log("üîÑ Â≠¶‰π†ËøõÂ∫¶Â∑≤ÈáçÁΩÆ")}catch(u){e.index.hideLoading(),console.error("ÈáçÁΩÆËøõÂ∫¶Â§±Ë¥•:",u),e.index.showToast({title:u.message||"ÈáçÁΩÆÂ§±Ë¥•",icon:"none"})}}})},ke=async()=>{if(P.value&&p.value&&d.value&&!(G.value<=0))try{await a.post(`/subjects/${p.value}/chapters/${d.value}/progress`,{current_question_number:q.value,completed_count:q.value,total_questions:G.value},{showLoading:!1})}catch(e){console.error("‚ùå ‰øùÂ≠ò‰∏ìÈ°πËøõÂ∫¶Â§±Ë¥•:",e)}},Te=()=>Object.keys(T.value).map((e=>{const a=T.value[e];if(xe(e,a))return null;const l=N.value[e];return l?{question_id:l.id,selected_answer:a||null,correct_answer:me(l.answer)||null}:null})).filter(Boolean),je=async()=>{if(U.value&&p.value)try{const e=await a.get("/practice/summary",{subjectId:p.value,mode:"random"},{showLoading:!1});B.value=e.stats||{answered_count:0,correct_count:0,wrong_count:0,accuracy:0}}catch(e){console.error("‚ùå Ëé∑ÂèñÈöèÊú∫ÁªÉ‰π†ÁªüËÆ°Â§±Ë¥•:",e)}},Ne=async()=>{if(R.value||L.value)return;if(!p.value)return;const e=U.value?p.value:P.value?d.value:"chapter"===c.value?(null==(l=x.value)?void 0:l.id)||0:s.value;var l;if(!e)return;const u=(()=>{const e=Object.keys(T.value).map((e=>{var a;return null==(a=N.value[e])?void 0:a.id})).filter((e=>Number.isFinite(e)));return Array.from(new Set(e))})();if(u.length)try{const l={subject_id:p.value,mode:U.value?"random":P.value?"special":(A.value,"mock"),source_type:U.value?"subject":P.value?"subject_chapter":"chapter"===c.value?"chapter":"bank",source_id:e,total_questions:G.value,correct_count:K.value,wrong_count:V.value,accuracy:W.value,question_source:"question_bank",question_ids:u,wrong_questions:Te()};await a.post("/practice/attempts",l,{showLoading:!1}),L.value=!0}catch(t){console.error("‚ùå Êèê‰∫§ÁªÉ‰π†ÁªüËÆ°Â§±Ë¥•:",t)}},Ce=async()=>{A.value&&$e(),P.value&&ke();const l=`Â∑≤ÂÆåÊàê ${J.value}/${G.value} È¢ò\nÊ≠£Á°ÆÁéáÔºö${W.value}%`;if(R.value)return await(async()=>{if(R.value&&!L.value)try{const e={total_questions:G.value,correct_count:K.value,wrong_count:V.value,accuracy:W.value,wrong_questions:Te()};await a.post(`/real-exams/${h.value}/attempts`,e,{showLoading:!1}),L.value=!0}catch(l){console.error("‚ùå Êèê‰∫§ÁúüÈ¢òÁªìÊûúÂ§±Ë¥•:",l),e.index.showToast({title:l.message||"Êèê‰∫§Â§±Ë¥•",icon:"none"})}})(),void e.index.showModal({title:"ÂÆåÊàêÁªÉ‰π†",content:l,confirmText:"Êü•ÁúãÈîôÈ¢ò",cancelText:"ËøîÂõû",success:a=>{a.confirm?e.index.navigateTo({url:`/pkg-exam/pages/real-exam-wrong/real-exam-wrong?paperId=${h.value}&paperName=${encodeURIComponent(g.value)}`}):e.index.navigateBack()}});await Ne(),e.index.showModal({title:"ÂÆåÊàêÁªÉ‰π†",content:l,confirmText:"Êü•ÁúãÁªüËÆ°",cancelText:"ËøîÂõû",success:a=>{a.confirm?qe():e.index.navigateBack()}})},Le=()=>{e.index.showModal({title:"Á°ÆËÆ§ÈÄÄÂá∫",content:"Â≠¶‰π†ËøõÂ∫¶Â∑≤Ëá™Âä®‰øùÂ≠òÔºåÁ°ÆÂÆöË¶ÅÈÄÄÂá∫ÂêóÔºü",success:async a=>{a.confirm&&(await $e(),e.index.navigateBack())}})},Be=()=>{ae.value.length>0&&e.index.previewImage({urls:ae.value,current:0})};return(a,l)=>{return e.e({a:e.p({type:"back",size:"20",color:"#333"}),b:e.o(Le),c:e.t(Q.value),d:e.t(H.value),e:(o.value.left||0)>0?o.value.left-20+"px":"auto",f:S.value},S.value?{g:D.value+"%"}:{},{h:S.value},S.value?{i:e.t(D.value)}:{},{j:e.p({type:"bars",size:"18",color:"#3B82F6"}),k:e.o(qe),l:n.value+"px",m:v.value+"px",n:O.value},O.value?{o:e.t(B.value.answered_count),p:e.t(B.value.accuracy),q:e.t(B.value.wrong_count)}:{},{r:z.value},z.value?{s:e.p({type:"spinner-cycle",size:"40",color:"#667eea"})}:b.value?e.e({v:e.t((u=b.value.type,{single:"ÂçïÈÄâÈ¢ò",multiple:"Â§öÈÄâÈ¢ò",judge:"Âà§Êñ≠È¢ò",fill:"Â°´Á©∫È¢ò"}[u]||"Êú™Áü•È¢òÂûã")),w:e.n("type-"+b.value.type),x:e.f(3,((a,l,u)=>({a:a,b:"4552211f-3-"+u,c:e.p({type:"star-filled",size:14,color:a<=b.value.difficulty?"#ffc107":"#ddd"})}))),y:e.t(q.value),z:Z.value,A:e.o(Be),B:b.value.tags&&b.value.tags.length>0},b.value.tags&&b.value.tags.length>0?{C:e.f(b.value.tags,((a,l,u)=>({a:e.t(a),b:l})))}:{},{D:e.f(b.value.options,((a,l,u)=>e.e({a:e.t(fe(l)),b:e.t(a),c:j.value&&ge(l)},j.value&&ge(l)?{d:"4552211f-4-"+u,e:e.p({type:"checkmarkempty",size:"20",color:"#28a745"})}:j.value&&he(l)&&!ge(l)?{g:"4552211f-5-"+u,h:e.p({type:"closeempty",size:"20",color:"#dc3545"})}:(he(l),{}),{f:j.value&&he(l)&&!ge(l),i:he(l),j:l,k:he(l)?1:"",l:j.value&&ge(l)?1:"",m:j.value&&he(l)&&!ge(l)?1:"",n:e.o((e=>(e=>{if(j.value)return;const a=fe(e),l=E();if("multiple"===b.value.type){let e=T.value[l]||"";e.includes(a)?e=e.replace(a,""):e+=a,e=e.split("").sort().join(""),T.value[l]=e}else T.value[l]=a;setTimeout((()=>{j.value=!0}),300)})(l)),l)}))),E:j.value?1:"",F:j.value},j.value?e.e({G:e.p({type:"info",size:"20",color:"#667eea"}),H:e.t(me(b.value.answer)),I:e.t(F.value||"Êú™‰ΩúÁ≠î"),J:e.n(X.value?"correct":"wrong"),K:b.value.explanation},b.value.explanation?{L:ee.value}:{},{M:e.o(Be)}):{},{N:e.p({type:"back",size:"16",color:"#fff"}),O:!(k.value||"chapter"!==c.value&&pe()),P:e.o(_e),Q:!j.value},j.value?{T:e.p({type:"eye-slash",size:"16",color:"#fff"}),U:e.o(we)}:{R:e.p({type:"eye",size:"16",color:"#fff"}),S:e.o(we)},{V:I.value||"full"===c.value&&ie()},I.value||"full"===c.value&&ie()?{W:e.p({type:"forward",size:"16",color:"#fff"}),X:e.o(ye)}:{Y:e.p({type:"checkmarkempty",size:"16",color:"#fff"}),Z:e.o(Ce)}):{},{t:b.value,aa:e.p({type:"closeempty",size:"20",color:"#999"}),ab:e.o(be),ac:e.t(J.value),ad:e.t(K.value),ae:e.t(V.value),af:e.t(W.value),ag:e.o(Ie),ah:e.o(be),ai:e.sr(M,"4552211f-12",{k:"statsPopup"}),aj:e.p({type:"center"})});var u}}},o=e._export_sfc(t,[["__scopeId","data-v-4552211f"]]);wx.createPage(o);
