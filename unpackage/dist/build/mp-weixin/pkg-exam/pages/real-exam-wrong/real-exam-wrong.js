"use strict";const e=require("../../../common/vendor.js"),t=require("../../../utils/request.js");if(!Array){e.resolveComponent("uni-icons")()}Math;const a={__name:"real-exam-wrong",setup(a){const n=e.ref([]),o=e.ref(!1),r=e.ref(0),s=e.ref(""),l=e=>e?Array.isArray(e)?e.sort().join(""):e.toString().toUpperCase():"";return e.onShow((async()=>{var a,l;const i=getCurrentPages(),u=i[i.length-1];r.value=parseInt(null==(a=null==u?void 0:u.options)?void 0:a.paperId)||0,s.value=(null==(l=null==u?void 0:u.options)?void 0:l.paperName)?decodeURIComponent(u.options.paperName):"",await(async()=>{if(r.value){o.value=!0;try{const e=await t.get(`/real-exams/${r.value}/wrong-questions`);n.value=e.questions||[]}catch(a){console.error("获取错题失败:",a),e.index.showToast({title:a.message||"获取错题失败",icon:"none"})}finally{o.value=!1}}})()})),(t,a)=>e.e({a:e.t(s.value||"真题错题"),b:e.t(n.value.length),c:o.value},o.value?{d:e.p({type:"spinner-cycle",size:"40",color:"#dc3545"})}:0===n.value.length?{f:e.p({type:"checkmarkempty",size:"80",color:"#28a745"})}:{g:e.f(n.value,((t,a,n)=>{return{a:e.t(t.question_no),b:e.t((o=t.type,{single:"单选题",multiple:"多选题",judge:"判断题",fill:"填空题",essay:"简答题"}[o]||"未知题型")),c:e.t(t.content),d:e.t(l(t.selected_answer)||"-"),e:e.t(l(t.correct_answer||t.answer)),f:t.question_id};var o}))},{e:0===n.value.length})}},n=e._export_sfc(a,[["__scopeId","data-v-6a6fc892"]]);wx.createPage(n);
