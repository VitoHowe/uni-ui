"use strict";const e=require("../../common/vendor.js"),t=require("../../stores/auth.js");if(require("../../utils/constants.js"),!Array){(e.resolveComponent("uni-icons")+e.resolveComponent("uni-section")+e.resolveComponent("uni-list-item")+e.resolveComponent("uni-list"))()}Math||((()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+i+(()=>"../../uni_modules/uni-section/components/uni-section/uni-section.js")+(()=>"../../uni_modules/uni-list/components/uni-list-item/uni-list-item.js")+(()=>"../../uni_modules/uni-list/components/uni-list/uni-list.js")+o)();const o=()=>"../../components/CustomTabBar.js",i=()=>"../../components/AuthGuard.js",n={__name:"profile",setup(o){const i=t.useAuthStore(),n=e.reactive([{label:"学习天数",value:"45",color:"#007AFF"},{label:"完成章节",value:"18",color:"#28a745"},{label:"练习题数",value:"523",color:"#ffc107"},{label:"正确率",value:"87%",color:"#dc3545"}]),c=e.reactive([{title:"学习计划",icon:"calendar",color:"#007AFF",rightText:"",action:"studyPlan"},{title:"学习笔记",icon:"compose",color:"#28a745",rightText:"12篇",action:"studyNotes"},{title:"收藏夹",icon:"star",color:"#ffc107",rightText:"8个",action:"favorites"},{title:"学习报告",icon:"bars",color:"#6f42c1",rightText:"",action:"studyReport"},{title:"文件管理",icon:"cloud-upload",color:"#17a2b8",rightText:"",action:"fileManagement"}]),a=e.reactive([{title:"消息通知",note:"管理推送通知设置",icon:"sound",action:"notification"},{title:"学习提醒",note:"设置每日学习提醒时间",icon:"calendar",action:"reminder"},{title:"清除缓存",note:"清理应用缓存数据",icon:"trash",action:"clearCache"},{title:"意见反馈",note:"向我们反馈问题和建议",icon:"chatboxes",action:"feedback"},{title:"关于我们",note:"应用版本信息",icon:"info",action:"about"}]),s=()=>{console.log("头像加载失败")},l=()=>{e.index.showToast({title:"编辑个人资料",icon:"none"})},r=()=>{e.index.showModal({title:"确认清除",content:"确定要清除应用缓存吗？",success:t=>{t.confirm&&e.index.showToast({title:"缓存清除成功",icon:"success"})}})},u=()=>{i.isAuthenticated?e.index.showModal({title:"确认退出",content:"确定要退出登录吗？退出后部分功能将无法使用。",success:async t=>{if(t.confirm)try{await i.logout()}catch(o){console.error("退出登录失败:",o),e.index.showToast({title:"退出失败，请重试",icon:"error"})}}}):e.index.navigateTo({url:"/pages/login/login"})},p=e=>{console.log("切换到tab:",e)};return(t,o)=>e.e({a:!e.unref(i).isAuthenticated},e.unref(i).isAuthenticated?{f:e.unref(i).userAvatar,g:e.o(s),h:e.t(e.unref(i).userNickname),i:e.t(e.unref(i).isAuthenticated?`${e.unref(i).userRoleText} · 正在备考高级信息系统项目管理师`:"请登录后查看完整功能"),j:e.p({type:"compose",size:"18",color:"#007AFF"}),k:e.o(l),l:e.f(n,((t,o,i)=>({a:e.t(t.value),b:t.color,c:e.t(t.label),d:o}))),m:e.p({title:"学习统计",type:"line",padding:!0}),n:e.f(c,((t,o,i)=>({a:"991a1639-9-"+i+",991a1639-8-"+i,b:e.p({type:t.icon,size:"20",color:"#fff"}),c:t.color,d:o,e:e.o((o=>(t=>{switch(t.action){case"studyPlan":e.index.showToast({title:"学习计划",icon:"none"});break;case"studyNotes":e.index.showToast({title:"学习笔记",icon:"none"});break;case"favorites":e.index.showToast({title:"收藏夹",icon:"none"});break;case"studyReport":e.index.showToast({title:"学习报告",icon:"none"});break;case"fileManagement":e.index.navigateTo({url:"/pkg-tools/pages/upload/upload"})}})(t)),o),f:"991a1639-8-"+i+",991a1639-7",g:e.p({title:t.title,rightText:t.rightText,clickable:!0})}))),o:e.p({title:"功能菜单",type:"line",padding:!0}),p:e.f(a,((t,o,i)=>({a:"991a1639-13-"+i+",991a1639-12-"+i,b:e.p({type:t.icon,size:"20",color:"#666"}),c:"991a1639-14-"+i+",991a1639-12-"+i,d:o,e:e.o((o=>(t=>{switch(t.action){case"notification":e.index.showToast({title:"消息通知设置",icon:"none"});break;case"reminder":e.index.showToast({title:"学习提醒设置",icon:"none"});break;case"clearCache":r();break;case"feedback":e.index.showToast({title:"意见反馈",icon:"none"});break;case"about":e.index.showToast({title:"关于我们",icon:"none"})}})(t)),o),f:"991a1639-12-"+i+",991a1639-11",g:e.p({title:t.title,note:t.note,clickable:!0})}))),q:e.p({type:"arrowright",size:"16",color:"#ccc"}),r:e.p({title:"设置",type:"line",padding:!0}),s:e.t(e.unref(i).isAuthenticated?"退出登录":"立即登录"),t:e.unref(i).isAuthenticated?"":1,v:e.o(u),w:e.o(p),x:e.p({current:3})}:{b:e.p({type:"checkmarkempty",size:"16",color:"#28a745"}),c:e.p({type:"checkmarkempty",size:"16",color:"#28a745"}),d:e.p({type:"checkmarkempty",size:"16",color:"#28a745"}),e:e.p({title:"个人中心",message:"登录后可查看学习统计、管理个人资料和使用完整功能","show-preview":!0,"current-path":"/pages/profile/profile"})})}},c=e._export_sfc(n,[["__scopeId","data-v-991a1639"]]);wx.createPage(c);
