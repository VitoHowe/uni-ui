{"version":3,"file":"subject.js","sources":["utils/subject.js"],"sourcesContent":["import { STORAGE_KEYS } from './constants.js'\n\nexport const normalizeSubject = (subject) => {\n  if (!subject) return null\n  return {\n    id: Number(subject.id),\n    name: subject.name || '',\n    code: subject.code || null\n  }\n}\n\nexport const SubjectStorage = {\n  get() {\n    return uni.getStorageSync(STORAGE_KEYS.SELECTED_SUBJECT) || null\n  },\n  set(subject) {\n    if (!subject) {\n      uni.removeStorageSync(STORAGE_KEYS.SELECTED_SUBJECT)\n      return\n    }\n    uni.setStorageSync(STORAGE_KEYS.SELECTED_SUBJECT, subject)\n  },\n  clear() {\n    uni.removeStorageSync(STORAGE_KEYS.SELECTED_SUBJECT)\n  }\n}\n"],"names":["uni","STORAGE_KEYS"],"mappings":";;;AAEY,MAAC,mBAAmB,CAAC,YAAY;AAC3C,MAAI,CAAC;AAAS,WAAO;AACrB,SAAO;AAAA,IACL,IAAI,OAAO,QAAQ,EAAE;AAAA,IACrB,MAAM,QAAQ,QAAQ;AAAA,IACtB,MAAM,QAAQ,QAAQ;AAAA,EACvB;AACH;AAEY,MAAC,iBAAiB;AAAA,EAC5B,MAAM;AACJ,WAAOA,cAAG,MAAC,eAAeC,6BAAa,gBAAgB,KAAK;AAAA,EAC7D;AAAA,EACD,IAAI,SAAS;AACX,QAAI,CAAC,SAAS;AACZD,0BAAI,kBAAkBC,gBAAY,aAAC,gBAAgB;AACnD;AAAA,IACD;AACDD,kBAAAA,MAAI,eAAeC,6BAAa,kBAAkB,OAAO;AAAA,EAC1D;AAAA,EACD,QAAQ;AACND,wBAAI,kBAAkBC,gBAAY,aAAC,gBAAgB;AAAA,EACpD;AACH;;;"}