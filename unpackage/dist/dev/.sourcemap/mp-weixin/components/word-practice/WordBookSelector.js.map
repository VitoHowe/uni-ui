{"version":3,"file":"WordBookSelector.js","sources":["components/word-practice/WordBookSelector.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTov5byA5rqQ6aG555uuL3d4L3VuaS11aS9jb21wb25lbnRzL3dvcmQtcHJhY3RpY2UvV29yZEJvb2tTZWxlY3Rvci52dWU"],"sourcesContent":["<template>\r\n  <view v-if=\"visible\" class=\"selector-overlay\" @click.self=\"$emit('close')\">\r\n    <view class=\"selector-panel\">\r\n      <view class=\"selector-handle\"></view>\r\n      <view class=\"selector-header\">\r\n        <view>\r\n          <text class=\"selector-eyebrow\">Word Library</text>\r\n          <text class=\"selector-title\">选择单词本</text>\r\n          <text class=\"selector-sub\">覆盖云端同步的词书，支持多源学习</text>\r\n        </view>\r\n        <button class=\"selector-close\" @click=\"$emit('close')\">\r\n          <uni-icons type=\"closeempty\" size=\"20\" color=\"#111827\" />\r\n        </button>\r\n      </view>\r\n      <scroll-view scroll-y class=\"selector-list\">\r\n        <view\r\n          class=\"book-option\"\r\n          v-for=\"book in books\"\r\n          :key=\"book.id\"\r\n          @click=\"$emit('select', book)\"\r\n        >\r\n          <view class=\"book-top\">\r\n            <text class=\"book-name\">{{ book.name }}</text>\r\n            <text class=\"book-lang\">{{ book.language || '不限' }}</text>\r\n          </view>\r\n          <text class=\"book-desc\">{{ book.description || '暂无简介，立即开启学习。' }}</text>\r\n          <view class=\"book-meta\">\r\n            <text>{{ book.totalWords || 0 }} 词</text>\r\n            <text>{{ formatDate(book.createdAt) }}</text>\r\n          </view>\r\n          <view class=\"book-actions\">\r\n            <text class=\"badge\" v-if=\"isActiveBook(book.id)\">当前词书</text>\r\n            <button class=\"primary\" v-else>设为当前</button>\r\n          </view>\r\n        </view>\r\n        <view v-if=\"!books.length && !loading\" class=\"selector-empty\">\r\n          <uni-icons type=\"info\" size=\"32\" color=\"#9ca3af\" />\r\n          <text>暂无单词本，请确认后端数据</text>\r\n        </view>\r\n        <view v-if=\"loading\" class=\"selector-loading\">加载中...</view>\r\n      </scroll-view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nconst props = defineProps({\r\n  visible: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  books: {\r\n    type: Array,\r\n    default: () => []\r\n  },\r\n  selectedBookId: {\r\n    type: [String, Number],\r\n    default: null\r\n  },\r\n  loading: {\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n})\r\n\r\ndefineEmits(['close', 'select'])\r\n\r\nconst normalizeBookId = (value) => {\n  if (value === null || value === undefined) return null\n  return String(value)\n}\n\nconst isActiveBook = (bookId) => normalizeBookId(bookId) === normalizeBookId(props.selectedBookId)\n\nconst formatDate = (value) => {\r\n  if (!value) return '刚刚'\r\n  return new Date(value).toLocaleDateString('zh-CN', { month: 'short', day: 'numeric' })\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.selector-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(15, 23, 42, 0.55);\r\n  display: flex;\r\n  align-items: flex-end;\r\n  z-index: 9999;\r\n}\r\n\r\n.selector-panel {\r\n  width: 100%;\r\n  max-height: 82vh;\r\n  background: linear-gradient(180deg, #ffffff 0%, #f7f8ff 100%);\r\n  border-radius: 40rpx 40rpx 0 0;\r\n  padding: 30rpx 32rpx 40rpx;\r\n  box-shadow: 0 -30rpx 60rpx rgba(15, 23, 42, 0.15);\r\n  display: flex;\r\n  flex-direction: column;\r\n  animation: slideUp 0.3s ease;\r\n}\r\n\r\n.selector-handle {\r\n  width: 120rpx;\r\n  height: 8rpx;\r\n  border-radius: 999rpx;\r\n  background: rgba(15, 23, 42, 0.1);\r\n  align-self: center;\r\n  margin-bottom: 18rpx;\r\n}\r\n\r\n.selector-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.selector-eyebrow {\r\n  font-size: 22rpx;\r\n  letter-spacing: 3rpx;\r\n  text-transform: uppercase;\r\n  color: #94a3b8;\r\n}\r\n\r\n.selector-title {\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n  color: #111827;\r\n  display: block;\r\n  margin-top: 6rpx;\r\n}\r\n\r\n.selector-sub {\r\n  display: block;\r\n  margin-top: 6rpx;\r\n  font-size: 24rpx;\r\n  color: #6b7280;\r\n}\r\n\r\n.selector-close {\r\n  border: none;\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  border-radius: 50%;\r\n  background: #eef2ff;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.selector-list {\r\n  flex: 1;\r\n  margin-top: 12rpx;\r\n}\r\n\r\n.book-option {\r\n  padding: 24rpx 26rpx;\r\n  border-radius: 24rpx;\r\n  background: #fff;\r\n  border: 1px solid #eef2ff;\r\n  margin-bottom: 20rpx;\n  box-shadow: 0 12rpx 24rpx rgba(15, 23, 42, 0.06);\r\n}\r\n\r\n.book-top {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: baseline;\r\n}\r\n\r\n.book-name {\r\n  font-size: 30rpx;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.book-lang {\r\n  font-size: 24rpx;\r\n  color: #4338ca;\r\n}\r\n\r\n.book-desc {\r\n  display: block;\r\n  margin-top: 10rpx;\r\n  font-size: 26rpx;\r\n  color: #4b5563;\r\n}\r\n\r\n.book-meta {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 14rpx;\r\n  font-size: 24rpx;\r\n  color: #94a3b8;\r\n}\r\n\r\n.book-actions {\r\n  margin-top: 20rpx;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 12rpx;\r\n  align-items: center;\r\n}\r\n\r\n.badge {\r\n  padding: 8rpx 18rpx;\r\n  border-radius: 999rpx;\r\n  background: #eef2ff;\r\n  color: #4338ca;\r\n  font-size: 24rpx;\r\n}\r\n\r\n.primary {\r\n  border: none;\r\n  border-radius: 16rpx;\r\n  padding: 14rpx 28rpx;\r\n  font-size: 26rpx;\r\n  background: linear-gradient(135deg, #4f46e5, #7c3aed);\r\n  color: #fff;\r\n}\r\n\r\n.selector-empty,\r\n.selector-loading {\r\n  min-height: 200rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 12rpx;\r\n  color: #9ca3af;\r\n}\r\n\r\n@keyframes slideUp {\r\n  from {\r\n    transform: translateY(30rpx);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>\r\n","import Component from 'E:/开源项目/wx/uni-ui/components/word-practice/WordBookSelector.vue'\nwx.createComponent(Component)"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,UAAM,QAAQ;AAqBd,UAAM,kBAAkB,CAAC,UAAU;AACjC,UAAI,UAAU,QAAQ,UAAU;AAAW,eAAO;AAClD,aAAO,OAAO,KAAK;AAAA,IACrB;AAEA,UAAM,eAAe,CAAC,WAAW,gBAAgB,MAAM,MAAM,gBAAgB,MAAM,cAAc;AAEjG,UAAM,aAAa,CAAC,UAAU;AAC5B,UAAI,CAAC;AAAO,eAAO;AACnB,aAAO,IAAI,KAAK,KAAK,EAAE,mBAAmB,SAAS,EAAE,OAAO,SAAS,KAAK,WAAW;AAAA,IACvF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5EA,GAAG,gBAAgB,SAAS;"}