{"version":3,"file":"exam.js","sources":["pages/exam/exam.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZXhhbS9leGFtLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"exam-container\">\r\n    <!-- È°∂ÈÉ®ËøõÂ∫¶Ê†è -->\r\n    <view class=\"exam-header\">\r\n      <view class=\"header-info\">\r\n        <view class=\"back-btn\" @click=\"handleBack\">\r\n          <uni-icons type=\"back\" size=\"20\" color=\"#333\" />\r\n        </view>\r\n        <view class=\"exam-title\">\r\n          <text class=\"title-text\">{{ bankInfo.bank_name }}</text>\r\n          <text class=\"subtitle-text\">{{ currentIndex + 1 }} / {{ questions.length }}</text>\r\n        </view>\r\n        <view class=\"stats-btn\" @click=\"showStats\">\r\n          <uni-icons type=\"bars\" size=\"20\" color=\"#333\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"progress-container\">\r\n        <view class=\"progress-bar\">\r\n          <view class=\"progress-fill\" :style=\"{width: progressPercent + '%'}\"></view>\r\n        </view>\r\n        <text class=\"progress-text\">{{ progressPercent }}%</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- Âä†ËΩΩÁä∂ÊÄÅ -->\r\n    <view v-if=\"loading\" class=\"loading-state\">\r\n      <uni-icons type=\"spinner-cycle\" size=\"40\" color=\"#667eea\" class=\"loading-icon\" />\r\n      <text class=\"loading-text\">Ê≠£Âú®Âä†ËΩΩÈ¢òÁõÆ...</text>\r\n    </view>\r\n\r\n    <!-- È¢òÁõÆÂÜÖÂÆπ -->\r\n    <view v-else-if=\"currentQuestion\" class=\"question-content\">\r\n      <!-- È¢òÁõÆÂç°Áâá -->\r\n      <view class=\"question-card\">\r\n        <view class=\"question-header\">\r\n          <view class=\"question-type\" :class=\"'type-' + currentQuestion.type\">\r\n            <text class=\"type-text\">{{ getTypeLabel(currentQuestion.type) }}</text>\r\n          </view>\r\n          <view class=\"question-difficulty\">\r\n            <uni-icons \r\n              v-for=\"i in 3\" \r\n              :key=\"i\"\r\n              type=\"star-filled\" \r\n              :size=\"14\" \r\n              :color=\"i <= currentQuestion.difficulty ? '#ffc107' : '#ddd'\" \r\n            />\r\n          </view>\r\n        </view>\r\n\r\n        <view class=\"question-number\">\r\n          <text>Á¨¨ {{ currentIndex + 1 }} È¢ò</text>\r\n        </view>\r\n\r\n        <view class=\"question-text\">\r\n          <text>{{ currentQuestion.content }}</text>\r\n        </view>\r\n\r\n        <!-- Ê†áÁ≠æ -->\r\n        <view v-if=\"currentQuestion.tags && currentQuestion.tags.length > 0\" class=\"question-tags\">\r\n          <view class=\"tag\" v-for=\"(tag, index) in currentQuestion.tags\" :key=\"index\">\r\n            <text class=\"tag-text\">{{ tag }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- ÈÄâÈ°πÂàóË°® -->\r\n      <view class=\"options-list\">\r\n        <view \r\n          v-for=\"(option, index) in currentQuestion.options\" \r\n          :key=\"index\"\r\n          class=\"option-item\"\r\n          :class=\"{\r\n            'selected': isOptionSelected(index),\r\n            'correct': showAnswer && isCorrectOption(index),\r\n            'wrong': showAnswer && isOptionSelected(index) && !isCorrectOption(index),\r\n            'disabled': showAnswer\r\n          }\"\r\n          @click=\"selectOption(index)\"\r\n        >\r\n          <view class=\"option-label\">\r\n            <text class=\"label-text\">{{ getOptionLabel(index) }}</text>\r\n          </view>\r\n          <view class=\"option-content\">\r\n            <text class=\"option-text\">{{ option }}</text>\r\n          </view>\r\n          <view class=\"option-icon\">\r\n            <uni-icons \r\n              v-if=\"showAnswer && isCorrectOption(index)\"\r\n              type=\"checkmarkempty\" \r\n              size=\"20\" \r\n              color=\"#28a745\" \r\n            />\r\n            <uni-icons \r\n              v-else-if=\"showAnswer && isOptionSelected(index) && !isCorrectOption(index)\"\r\n              type=\"closeempty\" \r\n              size=\"20\" \r\n              color=\"#dc3545\" \r\n            />\r\n            <view \r\n              v-else-if=\"isOptionSelected(index)\" \r\n              class=\"selected-dot\"\r\n            ></view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- Á≠îÊ°àËß£Êûê -->\r\n      <view v-if=\"showAnswer\" class=\"answer-section\">\r\n        <view class=\"answer-header\">\r\n          <uni-icons type=\"info\" size=\"20\" color=\"#667eea\" />\r\n          <text class=\"answer-title\">Á≠îÊ°àËß£Êûê</text>\r\n        </view>\r\n        <view class=\"answer-content\">\r\n          <view class=\"answer-row\">\r\n            <text class=\"answer-label\">Ê≠£Á°ÆÁ≠îÊ°àÔºö</text>\r\n            <text class=\"answer-value correct\">{{ formatAnswer(currentQuestion.answer) }}</text>\r\n          </view>\r\n          <view class=\"answer-row\">\r\n            <text class=\"answer-label\">‰Ω†ÁöÑÁ≠îÊ°àÔºö</text>\r\n            <text class=\"answer-value\" :class=\"isAnswerCorrect ? 'correct' : 'wrong'\">\r\n              {{ userAnswer || 'Êú™‰ΩúÁ≠î' }}\r\n            </text>\r\n          </view>\r\n          <view class=\"explanation\">\r\n            <text class=\"explanation-label\">Ëß£ÊûêÔºö</text>\r\n            <text class=\"explanation-text\">{{ currentQuestion.explanation || 'ÊöÇÊó†Ëß£Êûê' }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- Êìç‰ΩúÊåâÈíÆ -->\r\n      <view class=\"action-buttons\">\r\n        <button \r\n          class=\"action-btn secondary\"\r\n          :disabled=\"currentIndex === 0\"\r\n          @click=\"prevQuestion\"\r\n        >\r\n          <uni-icons type=\"back\" size=\"18\" color=\"#fff\" />\r\n          <text>‰∏ä‰∏ÄÈ¢ò</text>\r\n        </button>\r\n\r\n        <button \r\n          v-if=\"!showAnswer\"\r\n          class=\"action-btn primary show-answer\"\r\n          @click=\"toggleAnswer\"\r\n        >\r\n          <uni-icons type=\"eye\" size=\"18\" color=\"#fff\" />\r\n          <text>ÊòæÁ§∫Á≠îÊ°à</text>\r\n        </button>\r\n        <button \r\n          v-else\r\n          class=\"action-btn primary hide-answer\"\r\n          @click=\"toggleAnswer\"\r\n        >\r\n          <uni-icons type=\"eye-slash\" size=\"18\" color=\"#fff\" />\r\n          <text>ÈöêËóèÁ≠îÊ°à</text>\r\n        </button>\r\n\r\n        <button \r\n          v-if=\"currentIndex < questions.length - 1\"\r\n          class=\"action-btn secondary\"\r\n          @click=\"nextQuestion\"\r\n        >\r\n          <text>‰∏ã‰∏ÄÈ¢ò</text>\r\n          <uni-icons type=\"forward\" size=\"18\" color=\"#fff\" />\r\n        </button>\r\n        <button \r\n          v-else\r\n          class=\"action-btn finish\"\r\n          @click=\"finishExam\"\r\n        >\r\n          <uni-icons type=\"checkmarkempty\" size=\"18\" color=\"#fff\" />\r\n          <text>ÂÆåÊàê</text>\r\n        </button>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- ÁªüËÆ°ÂºπÁ™ó -->\r\n    <uni-popup ref=\"statsPopup\" type=\"center\">\r\n      <view class=\"stats-popup\">\r\n        <view class=\"popup-header\">\r\n          <text class=\"popup-title\">Á≠îÈ¢òÁªüËÆ°</text>\r\n          <view class=\"close-btn\" @click=\"closeStats\">\r\n            <uni-icons type=\"closeempty\" size=\"20\" color=\"#999\" />\r\n          </view>\r\n        </view>\r\n\r\n        <view class=\"stats-content\">\r\n          <view class=\"stat-row\">\r\n            <view class=\"stat-item\">\r\n              <text class=\"stat-number primary\">{{ answeredCount }}</text>\r\n              <text class=\"stat-label\">Â∑≤Á≠îÈ¢ò</text>\r\n            </view>\r\n            <view class=\"stat-item\">\r\n              <text class=\"stat-number success\">{{ correctCount }}</text>\r\n              <text class=\"stat-label\">Ê≠£Á°ÆÊï∞</text>\r\n            </view>\r\n            <view class=\"stat-item\">\r\n              <text class=\"stat-number danger\">{{ wrongCount }}</text>\r\n              <text class=\"stat-label\">ÈîôËØØÊï∞</text>\r\n            </view>\r\n          </view>\r\n\r\n          <view class=\"accuracy-row\">\r\n            <text class=\"accuracy-label\">Ê≠£Á°ÆÁéá</text>\r\n            <text class=\"accuracy-value\">{{ accuracy }}%</text>\r\n          </view>\r\n\r\n          <view class=\"question-grid\">\r\n            <view \r\n              v-for=\"(q, index) in questions\" \r\n              :key=\"index\"\r\n              class=\"grid-item\"\r\n              :class=\"{\r\n                'current': index === currentIndex,\r\n                'answered': userAnswers[index],\r\n                'correct': userAnswers[index] && checkAnswer(index),\r\n                'wrong': userAnswers[index] && !checkAnswer(index)\r\n              }\"\r\n              @click=\"jumpToQuestion(index)\"\r\n            >\r\n              <text class=\"grid-number\">{{ index + 1 }}</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n\r\n        <view class=\"popup-buttons\">\r\n          <button class=\"popup-btn secondary\" @click=\"resetProgress\">ÈáçÊñ∞ÁªÉ‰π†</button>\r\n          <button class=\"popup-btn primary\" @click=\"closeStats\">ÁªßÁª≠ÁªÉ‰π†</button>\r\n        </view>\r\n      </view>\r\n    </uni-popup>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onUnmounted, watch } from 'vue'\r\nimport { get, post, del } from '@/utils/request.js'\r\n\r\n// Ëé∑ÂèñÈ°µÈù¢ÂèÇÊï∞\r\nconst bankInfo = ref({\r\n  bank_name: '',\r\n  file_name: ''\r\n})\r\nconst resultId = ref(0)\r\nconst bankId = ref(0)\r\n\r\n// È¢òÁõÆÊï∞ÊçÆ\r\nconst questions = ref([])\r\nconst currentIndex = ref(0)\r\nconst userAnswers = ref({}) // Áî®Êà∑Á≠îÊ°àËÆ∞ÂΩï {index: answer}\r\nconst showAnswer = ref(false)\r\nconst historyAnsweredCount = ref(0) // ÂéÜÂè≤Á¥ØËÆ°Â∑≤Á≠îÈ¢òÊï∞\r\n\r\n// Âä†ËΩΩÁä∂ÊÄÅ\r\nconst loading = ref(false)\r\n\r\n// ÂºπÁ™óÂºïÁî®\r\nconst statsPopup = ref(null)\r\n\r\n// ÂΩìÂâçÈ¢òÁõÆ\r\nconst currentQuestion = computed(() => questions.value[currentIndex.value] || null)\r\n\r\n// Áî®Êà∑ÂΩìÂâçÈ¢òÁõÆÁöÑÁ≠îÊ°à\r\nconst userAnswer = computed(() => userAnswers.value[currentIndex.value] || '')\r\n\r\n// ËøõÂ∫¶ÁôæÂàÜÊØî\r\nconst progressPercent = computed(() => {\r\n  if (questions.value.length === 0) return 0\r\n  return Math.round((currentIndex.value + 1) / questions.value.length * 100)\r\n})\r\n\r\n// Â∑≤Á≠îÈ¢òÊï∞\r\nconst answeredCount = computed(() => Object.keys(userAnswers.value).length)\r\n\r\n// Ê≠£Á°ÆÊï∞\r\nconst correctCount = computed(() => {\r\n  return Object.keys(userAnswers.value).filter(index => checkAnswer(parseInt(index))).length\r\n})\r\n\r\n// ÈîôËØØÊï∞\r\nconst wrongCount = computed(() => answeredCount.value - correctCount.value)\r\n\r\n// Ê≠£Á°ÆÁéá\r\nconst accuracy = computed(() => {\r\n  if (answeredCount.value === 0) return 0\r\n  return Math.round(correctCount.value / answeredCount.value * 100)\r\n})\r\n\r\n// ÂΩìÂâçÁ≠îÊ°àÊòØÂê¶Ê≠£Á°Æ\r\nconst isAnswerCorrect = computed(() => {\r\n  if (!userAnswer.value) return false\r\n  return userAnswer.value === formatAnswer(currentQuestion.value.answer)\r\n})\r\n\r\n// È°µÈù¢Âä†ËΩΩ\r\nonMounted(() => {\r\n  // Ëé∑ÂèñÈ°µÈù¢ÂèÇÊï∞\r\n  const pages = getCurrentPages()\r\n  const currentPage = pages[pages.length - 1]\r\n  const options = currentPage.options\r\n  \r\n  resultId.value = parseInt(options.resultId) || 0\r\n  bankId.value = parseInt(options.bankId) || 0\r\n  \r\n  if (resultId.value) {\r\n    fetchExamData()\r\n  }\r\n  \r\n  // ÁõëÂê¨Â∞èÁ®ãÂ∫èÈöêËóè‰∫ã‰ª∂ÔºàÁî®Êà∑ÂàáÊç¢Â∫îÁî®ÊàñËøîÂõûÊ°åÈù¢Ôºâ\r\n  uni.onAppHide(() => {\r\n    saveProgress()\r\n  })\r\n})\r\n\r\n// È°µÈù¢Âç∏ËΩΩÊó∂‰øùÂ≠òËøõÂ∫¶\r\nonUnmounted(() => {\r\n  saveProgress()\r\n})\r\n\r\n// ÁõëÂê¨È¢òÁõÆÂàáÊç¢ÔºåËá™Âä®‰øùÂ≠òËøõÂ∫¶\r\nwatch(currentIndex, (newIndex, oldIndex) => {\r\n  // ÂΩìÈ¢òÁõÆÂèëÁîüÂèòÂåñÊó∂‰øùÂ≠òËøõÂ∫¶\r\n  if (oldIndex !== undefined && newIndex !== oldIndex) {\r\n    saveProgress()\r\n  }\r\n})\r\n\r\n// Ëé∑ÂèñËÄÉËØïÊï∞ÊçÆ\r\nconst fetchExamData = async () => {\r\n  loading.value = true\r\n  try {\r\n    // 1. Ëé∑ÂèñÈ¢òÂ∫ìÊï∞ÊçÆ\r\n    const data = await get(`/parse-results/${resultId.value}`)\r\n    \r\n    bankInfo.value = {\r\n      bank_name: data.bank_name,\r\n      file_name: data.file_name\r\n    }\r\n    questions.value = data.questions || []\r\n    \r\n    // 2. Ëé∑ÂèñÂ≠¶‰π†ËøõÂ∫¶\r\n    try {\r\n      const progressData = await get(`/user-progress/${bankId.value}`)\r\n      \r\n      if (progressData && progressData.current_question_index > 0) {\r\n        // ÊúâÂ≠¶‰π†ËøõÂ∫¶ÔºåË∑≥ËΩ¨Âà∞‰∏äÊ¨°Â≠¶‰π†‰ΩçÁΩÆ\r\n        const lastIndex = progressData.current_question_index\r\n        \r\n        // ‰øùÂ≠òÂéÜÂè≤Â∑≤Á≠îÈ¢òÊï∞Èáè\r\n        historyAnsweredCount.value = progressData.completed_count || 0\r\n        \r\n        // Á°Æ‰øùÁ¥¢Âºï‰∏çË∂ÖËøáÈ¢òÁõÆÊÄªÊï∞\r\n        if (lastIndex < questions.value.length) {\r\n          currentIndex.value = lastIndex\r\n          \r\n          console.log(`üìñ ÁªßÁª≠Â≠¶‰π†Ôºå‰ªéÁ¨¨ ${lastIndex + 1} È¢òÂºÄÂßãÔºåÂéÜÂè≤Â∑≤Á≠î ${historyAnsweredCount.value} È¢ò`)\r\n        }\r\n      } else {\r\n        console.log('üÜï ÂºÄÂßãÊñ∞ÁöÑÂ≠¶‰π†')\r\n        historyAnsweredCount.value = 0\r\n      }\r\n    } catch (progressError) {\r\n      console.error('Ëé∑ÂèñÂ≠¶‰π†ËøõÂ∫¶Â§±Ë¥•:', progressError)\r\n      // ËøõÂ∫¶Ëé∑ÂèñÂ§±Ë¥•Ôºå‰ªéÁ¨¨‰∏ÄÈ¢òÂºÄÂßã\r\n      currentIndex.value = 0\r\n      historyAnsweredCount.value = 0\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('Ëé∑ÂèñÈ¢òÂ∫ìÂ§±Ë¥•:', error)\r\n    uni.showToast({\r\n      title: error.message || 'Âä†ËΩΩÂ§±Ë¥•',\r\n      icon: 'none'\r\n    })\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// Ëé∑ÂèñÈ¢òÂûãÊ†áÁ≠æ\r\nconst getTypeLabel = (type) => {\r\n  const typeMap = {\r\n    'single': 'ÂçïÈÄâÈ¢ò',\r\n    'multiple': 'Â§öÈÄâÈ¢ò',\r\n    'judge': 'Âà§Êñ≠È¢ò',\r\n    'fill': 'Â°´Á©∫È¢ò'\r\n  }\r\n  return typeMap[type] || 'Êú™Áü•È¢òÂûã'\r\n}\r\n\r\n// Ëé∑ÂèñÈÄâÈ°πÊ†áÁ≠æ\r\nconst getOptionLabel = (index) => {\r\n  return String.fromCharCode(65 + index) // A, B, C, D...\r\n}\r\n\r\n// Ê†ºÂºèÂåñÁ≠îÊ°à\r\nconst formatAnswer = (answer) => {\r\n  if (!answer) return ''\r\n  \r\n  // Â¶ÇÊûúÊòØÂ§öÈÄâÈ¢òÔºåÁ≠îÊ°àÂèØËÉΩÊòØ \"AB\" Êàñ [\"A\", \"B\"]\r\n  if (Array.isArray(answer)) {\r\n    return answer.sort().join('')\r\n  }\r\n  \r\n  // ÂçïÈÄâÈ¢òÊàñÂà§Êñ≠È¢ò\r\n  return answer.toString().toUpperCase()\r\n}\r\n\r\n// Âà§Êñ≠ÈÄâÈ°πÊòØÂê¶Ë¢´ÈÄâ‰∏≠\r\nconst isOptionSelected = (optionIndex) => {\r\n  const answer = userAnswers.value[currentIndex.value]\r\n  if (!answer) return false\r\n  \r\n  const label = getOptionLabel(optionIndex)\r\n  \r\n  if (currentQuestion.value.type === 'multiple') {\r\n    return answer.includes(label)\r\n  }\r\n  \r\n  return answer === label\r\n}\r\n\r\n// Âà§Êñ≠ÈÄâÈ°πÊòØÂê¶ÊòØÊ≠£Á°ÆÁ≠îÊ°à\r\nconst isCorrectOption = (optionIndex) => {\r\n  const correctAnswer = formatAnswer(currentQuestion.value.answer)\r\n  const label = getOptionLabel(optionIndex)\r\n  \r\n  if (currentQuestion.value.type === 'multiple') {\r\n    return correctAnswer.includes(label)\r\n  }\r\n  \r\n  return correctAnswer === label\r\n}\r\n\r\n// ÈÄâÊã©ÈÄâÈ°π\r\nconst selectOption = (optionIndex) => {\r\n  if (showAnswer.value) return // Â∑≤ÊòæÁ§∫Á≠îÊ°àÊó∂‰∏çËÉΩÂÜçÈÄâÊã©\r\n  \r\n  const label = getOptionLabel(optionIndex)\r\n  \r\n  if (currentQuestion.value.type === 'multiple') {\r\n    // Â§öÈÄâÈ¢ò\r\n    let currentAnswer = userAnswers.value[currentIndex.value] || ''\r\n    \r\n    if (currentAnswer.includes(label)) {\r\n      // ÂèñÊ∂àÈÄâÊã©\r\n      currentAnswer = currentAnswer.replace(label, '')\r\n    } else {\r\n      // Ê∑ªÂä†ÈÄâÊã©\r\n      currentAnswer += label\r\n    }\r\n    \r\n    // ÊåâÂ≠óÊØçÈ°∫Â∫èÊéíÂ∫è\r\n    currentAnswer = currentAnswer.split('').sort().join('')\r\n    \r\n    userAnswers.value[currentIndex.value] = currentAnswer\r\n  } else {\r\n    // ÂçïÈÄâÈ¢òÊàñÂà§Êñ≠È¢ò\r\n    userAnswers.value[currentIndex.value] = label\r\n  }\r\n  \r\n  // ÈÄâÊã©ÂêéËá™Âä®ÊòæÁ§∫Á≠îÊ°à\r\n  setTimeout(() => {\r\n    showAnswer.value = true\r\n  }, 300)\r\n}\r\n\r\n// ÂàáÊç¢Á≠îÊ°àÊòæÁ§∫\r\nconst toggleAnswer = () => {\r\n  showAnswer.value = !showAnswer.value\r\n}\r\n\r\n// ‰∏ä‰∏ÄÈ¢ò\r\nconst prevQuestion = () => {\r\n  if (currentIndex.value > 0) {\r\n    currentIndex.value--\r\n    showAnswer.value = false\r\n  }\r\n}\r\n\r\n// ‰∏ã‰∏ÄÈ¢ò\r\nconst nextQuestion = () => {\r\n  if (currentIndex.value < questions.value.length - 1) {\r\n    currentIndex.value++\r\n    showAnswer.value = false\r\n  }\r\n}\r\n\r\n// Ë∑≥ËΩ¨Âà∞ÊåáÂÆöÈ¢òÁõÆ\r\nconst jumpToQuestion = (index) => {\r\n  currentIndex.value = index\r\n  showAnswer.value = false\r\n  closeStats()\r\n}\r\n\r\n// Ê£ÄÊü•Á≠îÊ°àÊòØÂê¶Ê≠£Á°Æ\r\nconst checkAnswer = (index) => {\r\n  const userAns = userAnswers.value[index]\r\n  if (!userAns) return false\r\n  \r\n  const question = questions.value[index]\r\n  const correctAns = formatAnswer(question.answer)\r\n  \r\n  return userAns === correctAns\r\n}\r\n\r\n// ÊòæÁ§∫ÁªüËÆ°\r\nconst showStats = () => {\r\n  statsPopup.value.open()\r\n}\r\n\r\n// ÂÖ≥Èó≠ÁªüËÆ°\r\nconst closeStats = () => {\r\n  statsPopup.value.close()\r\n}\r\n\r\n// ‰øùÂ≠òÂ≠¶‰π†ËøõÂ∫¶\r\nconst saveProgress = async () => {\r\n  if (!bankId.value || questions.value.length === 0) return\r\n  \r\n  try {\r\n    // ËÆ°ÁÆóÂ∑≤ÂÆåÊàêÈ¢òÁõÆÊï∞ÈáèÔºöÂéÜÂè≤Â∑≤Á≠îÈ¢òÊï∞ + Êú¨Ê¨°Êñ∞Á≠îÈ¢òÊï∞\r\n    // Ê≥®ÊÑèÔºöËøôÈáåÁöÑ answeredCount ÊòØÊú¨Ê¨°‰ºöËØù‰∏≠Á≠îÈ¢òÁöÑÊï∞Èáè\r\n    const totalCompleted = historyAnsweredCount.value + answeredCount.value\r\n    \r\n    await post(`/user-progress/${bankId.value}`, {\r\n      parse_result_id: resultId.value,\r\n      current_question_index: currentIndex.value,\r\n      completed_count: totalCompleted, // Á¥ØËÆ°Â∑≤Á≠îÈ¢òÊï∞\r\n      total_questions: questions.value.length\r\n    }, {\r\n      showLoading: false // ÂêéÂè∞‰øùÂ≠òÔºå‰∏çÊòæÁ§∫Âä†ËΩΩÊèêÁ§∫\r\n    })\r\n    \r\n    console.log('üíæ Â≠¶‰π†ËøõÂ∫¶Â∑≤‰øùÂ≠ò:', {\r\n      current: currentIndex.value + 1,\r\n      historyAnswered: historyAnsweredCount.value,\r\n      sessionAnswered: answeredCount.value,\r\n      totalCompleted: totalCompleted,\r\n      total: questions.value.length,\r\n      progress: progressPercent.value + '%'\r\n    })\r\n  } catch (error) {\r\n    console.error('‰øùÂ≠òÂ≠¶‰π†ËøõÂ∫¶Â§±Ë¥•:', error)\r\n    // ‰øùÂ≠òÂ§±Ë¥•‰∏çÂΩ±ÂìçÁî®Êà∑Êìç‰Ωú\r\n  }\r\n}\r\n\r\n// ÈáçÁΩÆÂ≠¶‰π†ËøõÂ∫¶\r\nconst resetProgress = async () => {\r\n  uni.showModal({\r\n    title: 'ÈáçÊñ∞ÁªÉ‰π†',\r\n    content: 'Á°ÆÂÆöË¶ÅÊ∏ÖÈô§ÂΩìÂâçËøõÂ∫¶ÔºåÈáçÊñ∞ÂºÄÂßãÁªÉ‰π†ÂêóÔºü',\r\n    confirmText: 'Á°ÆÂÆö',\r\n    cancelText: 'ÂèñÊ∂à',\r\n    success: async (res) => {\r\n      if (res.confirm) {\r\n        try {\r\n          uni.showLoading({ title: 'ÈáçÁΩÆ‰∏≠...' })\r\n          \r\n          // Ë∞ÉÁî®ÈáçÁΩÆÊé•Âè£\r\n          await del(`/user-progress/${bankId.value}`)\r\n          \r\n          // ÈáçÁΩÆÊú¨Âú∞Áä∂ÊÄÅ\r\n          currentIndex.value = 0\r\n          userAnswers.value = {}\r\n          showAnswer.value = false\r\n          historyAnsweredCount.value = 0 // ÈáçÁΩÆÂéÜÂè≤Á≠îÈ¢òÊï∞\r\n          \r\n          uni.hideLoading()\r\n          uni.showToast({\r\n            title: 'Â∑≤ÈáçÊñ∞ÂºÄÂßã',\r\n            icon: 'success'\r\n          })\r\n          \r\n          console.log('üîÑ Â≠¶‰π†ËøõÂ∫¶Â∑≤ÈáçÁΩÆ')\r\n        } catch (error) {\r\n          uni.hideLoading()\r\n          console.error('ÈáçÁΩÆËøõÂ∫¶Â§±Ë¥•:', error)\r\n          uni.showToast({\r\n            title: error.message || 'ÈáçÁΩÆÂ§±Ë¥•',\r\n            icon: 'none'\r\n          })\r\n        }\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// ÂÆåÊàêËÄÉËØï\r\nconst finishExam = () => {\r\n  // ‰øùÂ≠òÊúÄÁªàËøõÂ∫¶\r\n  saveProgress()\r\n  \r\n  uni.showModal({\r\n    title: 'ÂÆåÊàêÁªÉ‰π†',\r\n    content: `Â∑≤ÂÆåÊàê ${answeredCount.value}/${questions.value.length} È¢ò\\nÊ≠£Á°ÆÁéáÔºö${accuracy.value}%`,\r\n    confirmText: 'Êü•ÁúãÁªüËÆ°',\r\n    cancelText: 'ÈáçÊñ∞ÁªÉ‰π†',\r\n    success: (res) => {\r\n      if (res.confirm) {\r\n        showStats()\r\n      } else {\r\n        // Áî®Êà∑ÁÇπÂáª\"ÈáçÊñ∞ÁªÉ‰π†\"\r\n        resetProgress()\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// ËøîÂõû\r\nconst handleBack = () => {\r\n  uni.showModal({\r\n    title: 'Á°ÆËÆ§ÈÄÄÂá∫',\r\n    content: 'Â≠¶‰π†ËøõÂ∫¶Â∑≤Ëá™Âä®‰øùÂ≠òÔºåÁ°ÆÂÆöË¶ÅÈÄÄÂá∫ÂêóÔºü',\r\n    success: async (res) => {\r\n      if (res.confirm) {\r\n        // ÈÄÄÂá∫Ââç‰øùÂ≠ò‰∏ÄÊ¨°ËøõÂ∫¶\r\n        await saveProgress()\r\n        uni.navigateBack()\r\n      }\r\n    }\r\n  })\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.exam-container {\r\n  min-height: 100vh;\r\n  background: linear-gradient(180deg, #f5f7fa 0%, #ffffff 100%);\r\n  padding-bottom: 40rpx;\r\n}\r\n\r\n/* È°∂ÈÉ®ËøõÂ∫¶Ê†è */\r\n.exam-header {\r\n  background: white;\r\n  padding: 20rpx;\r\n  box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 100;\r\n}\r\n\r\n.header-info {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.back-btn, .stats-btn {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #f5f7fa;\r\n  border-radius: 50%;\r\n}\r\n\r\n.exam-title {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 4rpx;\r\n}\r\n\r\n.title-text {\r\n  font-size: 30rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.subtitle-text {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.progress-container {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16rpx;\r\n}\r\n\r\n.progress-bar {\r\n  flex: 1;\r\n  height: 8rpx;\r\n  background: #f0f0f0;\r\n  border-radius: 4rpx;\r\n  overflow: hidden;\r\n}\r\n\r\n.progress-fill {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);\r\n  transition: width 0.3s ease;\r\n}\r\n\r\n.progress-text {\r\n  font-size: 24rpx;\r\n  color: #667eea;\r\n  font-weight: 600;\r\n  min-width: 60rpx;\r\n  text-align: right;\r\n}\r\n\r\n/* Âä†ËΩΩÁä∂ÊÄÅ */\r\n.loading-state {\r\n  padding: 200rpx 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 24rpx;\r\n}\r\n\r\n.loading-icon {\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  from { transform: rotate(0deg); }\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.loading-text {\r\n  font-size: 28rpx;\r\n  color: #999;\r\n}\r\n\r\n/* È¢òÁõÆÂÜÖÂÆπ */\r\n.question-content {\r\n  padding: 20rpx;\r\n}\r\n\r\n/* È¢òÁõÆÂç°Áâá */\r\n.question-card {\r\n  background: white;\r\n  border-radius: 20rpx;\r\n  padding: 32rpx;\r\n  margin-bottom: 24rpx;\r\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.06);\r\n}\r\n\r\n.question-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.question-type {\r\n  padding: 8rpx 20rpx;\r\n  border-radius: 20rpx;\r\n  background: #e3f2fd;\r\n}\r\n\r\n.type-single {\r\n  background: #e3f2fd;\r\n}\r\n\r\n.type-multiple {\r\n  background: #fff3e0;\r\n}\r\n\r\n.type-judge {\r\n  background: #e8f5e9;\r\n}\r\n\r\n.type-fill {\r\n  background: #fce4ec;\r\n}\r\n\r\n.type-text {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n.question-difficulty {\r\n  display: flex;\r\n  gap: 4rpx;\r\n}\r\n\r\n.question-number {\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.question-number text {\r\n  font-size: 26rpx;\r\n  color: #999;\r\n}\r\n\r\n.question-text {\r\n  font-size: 32rpx;\r\n  line-height: 1.8;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.question-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 12rpx;\r\n}\r\n\r\n.tag {\r\n  padding: 6rpx 16rpx;\r\n  background: #f5f7fa;\r\n  border-radius: 8rpx;\r\n}\r\n\r\n.tag-text {\r\n  font-size: 22rpx;\r\n  color: #666;\r\n}\r\n\r\n/* ÈÄâÈ°πÂàóË°® */\r\n.options-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16rpx;\r\n  margin-bottom: 24rpx;\r\n}\r\n\r\n.option-item {\r\n  background: white;\r\n  border: 2rpx solid #e0e0e0;\r\n  border-radius: 16rpx;\r\n  padding: 24rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20rpx;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.option-item.selected {\r\n  border-color: #667eea;\r\n  background: #f5f7ff;\r\n}\r\n\r\n.option-item.correct {\r\n  border-color: #28a745;\r\n  background: #f1f9f3;\r\n}\r\n\r\n.option-item.wrong {\r\n  border-color: #dc3545;\r\n  background: #fff5f5;\r\n}\r\n\r\n.option-item.disabled {\r\n  pointer-events: none;\r\n}\r\n\r\n.option-label {\r\n  width: 56rpx;\r\n  height: 56rpx;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.option-item.correct .option-label {\r\n  background: linear-gradient(135deg, #28a745 0%, #20c997 100%);\r\n}\r\n\r\n.option-item.wrong .option-label {\r\n  background: linear-gradient(135deg, #dc3545 0%, #e83e8c 100%);\r\n}\r\n\r\n.label-text {\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n  color: white;\r\n}\r\n\r\n.option-content {\r\n  flex: 1;\r\n}\r\n\r\n.option-text {\r\n  font-size: 28rpx;\r\n  line-height: 1.6;\r\n  color: #333;\r\n}\r\n\r\n.option-icon {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.selected-dot {\r\n  width: 16rpx;\r\n  height: 16rpx;\r\n  background: #667eea;\r\n  border-radius: 50%;\r\n}\r\n\r\n/* Á≠îÊ°àËß£Êûê */\r\n.answer-section {\r\n  background: white;\r\n  border-radius: 20rpx;\r\n  padding: 32rpx;\r\n  margin-bottom: 24rpx;\r\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.06);\r\n}\r\n\r\n.answer-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12rpx;\r\n  margin-bottom: 24rpx;\r\n  padding-bottom: 20rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.answer-title {\r\n  font-size: 30rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.answer-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20rpx;\r\n}\r\n\r\n.answer-row {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.answer-label {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  min-width: 160rpx;\r\n}\r\n\r\n.answer-value {\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n}\r\n\r\n.answer-value.correct {\r\n  color: #28a745;\r\n}\r\n\r\n.answer-value.wrong {\r\n  color: #dc3545;\r\n}\r\n\r\n.explanation {\r\n  background: #f5f7fa;\r\n  padding: 24rpx;\r\n  border-radius: 12rpx;\r\n  margin-top: 8rpx;\r\n}\r\n\r\n.explanation-label {\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  display: block;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.explanation-text {\r\n  font-size: 26rpx;\r\n  line-height: 1.8;\r\n  color: #666;\r\n}\r\n\r\n/* Êìç‰ΩúÊåâÈíÆ */\r\n.action-buttons {\r\n  display: flex;\r\n  gap: 16rpx;\r\n  padding: 0 20rpx;\r\n}\r\n\r\n.action-btn {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8rpx;\r\n  padding: 28rpx;\r\n  border-radius: 16rpx;\r\n  font-size: 28rpx;\r\n  border: none;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.action-btn.secondary {\r\n  background: #6c757d;\r\n  color: white;\r\n}\r\n\r\n.action-btn.secondary:disabled {\r\n  background: #e0e0e0;\r\n  color: #999;\r\n}\r\n\r\n.action-btn.primary {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n}\r\n\r\n.action-btn.finish {\r\n  background: linear-gradient(135deg, #28a745 0%, #20c997 100%);\r\n  color: white;\r\n}\r\n\r\n/* ÁªüËÆ°ÂºπÁ™ó */\r\n.stats-popup {\r\n  width: 640rpx;\r\n  background: white;\r\n  border-radius: 24rpx;\r\n  padding: 32rpx;\r\n}\r\n\r\n.popup-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 32rpx;\r\n}\r\n\r\n.popup-title {\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.close-btn {\r\n  width: 48rpx;\r\n  height: 48rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.stats-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 32rpx;\r\n}\r\n\r\n.stat-row {\r\n  display: flex;\r\n  justify-content: space-around;\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 8rpx;\r\n}\r\n\r\n.stat-number {\r\n  font-size: 48rpx;\r\n  font-weight: bold;\r\n}\r\n\r\n.stat-number.primary {\r\n  color: #667eea;\r\n}\r\n\r\n.stat-number.success {\r\n  color: #28a745;\r\n}\r\n\r\n.stat-number.danger {\r\n  color: #dc3545;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.accuracy-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 24rpx;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border-radius: 16rpx;\r\n}\r\n\r\n.accuracy-label {\r\n  font-size: 28rpx;\r\n  color: white;\r\n}\r\n\r\n.accuracy-value {\r\n  font-size: 40rpx;\r\n  font-weight: bold;\r\n  color: white;\r\n}\r\n\r\n.question-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(8, 1fr);\r\n  gap: 16rpx;\r\n}\r\n\r\n.grid-item {\r\n  aspect-ratio: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #f5f7fa;\r\n  border-radius: 8rpx;\r\n  border: 2rpx solid transparent;\r\n}\r\n\r\n.grid-item.current {\r\n  border-color: #667eea;\r\n  background: #e3f2fd;\r\n}\r\n\r\n.grid-item.answered {\r\n  background: #e0e0e0;\r\n}\r\n\r\n.grid-item.correct {\r\n  background: #d4edda;\r\n  color: #28a745;\r\n}\r\n\r\n.grid-item.wrong {\r\n  background: #f8d7da;\r\n  color: #dc3545;\r\n}\r\n\r\n.grid-number {\r\n  font-size: 24rpx;\r\n  font-weight: 600;\r\n}\r\n\r\n.popup-buttons {\r\n  display: flex;\r\n  gap: 16rpx;\r\n  margin-top: 16rpx;\r\n}\r\n\r\n.popup-btn {\r\n  flex: 1;\r\n  border: none;\r\n  padding: 28rpx;\r\n  border-radius: 16rpx;\r\n  font-size: 30rpx;\r\n  font-weight: 600;\r\n}\r\n\r\n.popup-btn.primary {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n}\r\n\r\n.popup-btn.secondary {\r\n  background: #f5f7fa;\r\n  color: #333;\r\n}\r\n</style>\r\n\r\n","import MiniProgramPage from 'E:/personal/wx/uni-ui/pages/exam/exam.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","onMounted","uni","onUnmounted","watch","get","post","del"],"mappings":"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"}