{"version":3,"file":"word-detail.js","sources":["pages/word-practice/word-detail.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvd29yZC1wcmFjdGljZS93b3JkLWRldGFpbC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"word-detail-page\">\r\n    <WordPracticeHeader\r\n      :book=\"store.currentBook\"\r\n      :learning-rate=\"store.learningRate\"\r\n      :stats=\"heroStats\"\r\n      :loading=\"store.wordsLoading || store.booksLoading\"\r\n      @open-selector=\"selectorVisible = true\"\r\n    />\r\n\r\n    <view class=\"search-card\">\r\n      <view class=\"search-bar\">\r\n        <uni-icons type=\"search\" size=\"18\" color=\"#94a3b8\" />\r\n        <input\r\n          class=\"search-input\"\r\n          v-model=\"searchKeyword\"\r\n          placeholder=\"输入英文或中文关键字\"\r\n          confirm-type=\"search\"\r\n          @confirm=\"onSearchConfirm\"\r\n        />\r\n        <view class=\"search-clear\" v-if=\"searchKeyword\" @click=\"clearSearch\">\r\n          <uni-icons type=\"closeempty\" size=\"16\" color=\"#94a3b8\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"search-meta\">\r\n        <text>共 {{ filteredWords.length }} 词 · 第 {{ currentPage }}/{{ totalPages }}</text>\r\n        <text class=\"search-link\" @click=\"jumpRandom\">随机一词</text>\r\n      </view>\r\n      <view class=\"action-row\">\r\n        <view\r\n          class=\"action-pill\"\r\n          v-for=\"action in quickActions\"\r\n          :key=\"action.type\"\r\n          :style=\"{ backgroundColor: action.bg }\"\r\n          @click=\"handleQuickAction(action)\"\r\n        >\r\n          <view class=\"pill-icon\">\r\n            <uni-icons :type=\"action.icon\" size=\"18\" color=\"#fff\" />\r\n          </view>\r\n          <view class=\"pill-info\">\r\n            <text class=\"pill-title\">{{ action.name }}</text>\r\n            <text class=\"pill-desc\">{{ action.desc }}</text>\r\n          </view>\r\n          <text class=\"pill-count\">{{ action.count }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <WordPracticePanel\r\n      :word=\"store.currentWord\"\r\n      :index=\"store.currentWordIndex\"\r\n      :total=\"store.currentWords.length\"\r\n      :mastery-label=\"masteryLabel\"\r\n      :is-favorite=\"isFavorite\"\r\n      :next-preview=\"nextPreview\"\r\n      :pronunciation-state=\"pronunciationState\"\r\n      @play=\"playPronunciation\"\r\n      @toggle-favorite=\"toggleFavorite\"\r\n      @mark-mastered=\"markCurrentWord('mastered')\"\r\n      @mark-mistake=\"markCurrentWord('mistake')\"\r\n      @next=\"store.setCurrentWordIndex(store.currentWordIndex + 1)\"\r\n      @prev=\"store.setCurrentWordIndex(store.currentWordIndex - 1)\"\r\n    />\r\n\r\n    <WordListTable\r\n      class=\"word-list-section\"\r\n      :words=\"paginatedWords\"\r\n      :current-page=\"currentPage\"\r\n      :total-pages=\"totalPages\"\r\n      @change-page=\"changePage\"\r\n      @select=\"handleWordSelect\"\r\n    />\r\n\r\n    <WordBookSelector\r\n      :visible=\"selectorVisible\"\r\n      :books=\"store.books\"\r\n      :selected-book-id=\"store.selectedBookId\"\r\n      :loading=\"store.booksLoading\"\r\n      @close=\"selectorVisible = false\"\r\n      @select=\"handleSelectBook\"\r\n    />\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref, reactive, watch, onMounted, onUnmounted } from 'vue'\r\nimport { onLoad } from '@dcloudio/uni-app'\r\nimport WordPracticeHeader from '@/components/word-practice/WordPracticeHeader.vue'\r\nimport WordPracticePanel from '@/components/word-practice/WordPracticePanel.vue'\r\nimport WordListTable from '@/components/word-practice/WordListTable.vue'\r\nimport WordBookSelector from '@/components/word-practice/WordBookSelector.vue'\r\nimport { useWordPracticeStore } from '@/stores/wordPractice.js'\r\n\r\nconst PAGE_SIZE = 30\r\nconst DICT_VOICE_URL = 'https://dict.youdao.com/dictvoice?type=2&audio='\r\n\r\nconst store = useWordPracticeStore()\r\nconst searchKeyword = ref('')\r\nconst currentPage = ref(1)\r\nconst selectorVisible = ref(false)\r\nconst initializing = ref(false)\r\nconst pronunciationState = reactive({ loading: false, error: '' })\r\n\r\nlet audioContext = null\r\n\r\nconst filteredWords = computed(() => {\r\n  const keyword = searchKeyword.value.trim().toLowerCase()\r\n  if (!keyword) return store.currentWords\r\n  return store.currentWords.filter((word) => {\r\n    return word.english?.toLowerCase().includes(keyword) || word.chinese?.includes(keyword)\r\n  })\r\n})\r\n\r\nconst totalPages = computed(() => Math.max(1, Math.ceil(filteredWords.value.length / PAGE_SIZE)))\r\nconst paginatedWords = computed(() => {\r\n  const start = (currentPage.value - 1) * PAGE_SIZE\r\n  return filteredWords.value.slice(start, start + PAGE_SIZE)\r\n})\r\n\r\nconst heroStats = computed(() => [\r\n  { label: '词汇总数', value: store.currentWords.length },\r\n  { label: '已掌握', value: store.mastered.length },\r\n  { label: '收藏', value: store.favorites.length }\r\n])\r\n\r\nconst isFavorite = computed(() => store.currentWord && store.favorites.includes(store.currentWord.id))\r\n\r\nconst masteryLabel = computed(() => {\r\n  const wordId = store.currentWord?.id\r\n  if (!wordId) return '未学习'\r\n  if (store.mastered.includes(wordId)) return '已掌握'\r\n  if (store.mistakes.includes(wordId)) return '待复习'\r\n  return '未学习'\r\n})\r\n\r\nconst nextPreview = computed(() => {\r\n  if (!store.currentWords.length) return '--'\r\n  const nextIndex = (store.currentWordIndex + 1) % store.currentWords.length\r\n  return store.currentWords[nextIndex]?.english || '--'\r\n})\r\n\r\nconst quickActions = computed(() => [\r\n  { type: 'random', name: '随机练习', desc: '打破顺序', count: '', icon: 'loop', bg: '#7a86ff' },\r\n  { type: 'favorites', name: '收藏夹', desc: '高频复习', count: store.favorites.length, icon: 'star', bg: '#fbbf24' },\r\n  { type: 'mistakes', name: '错词集', desc: '重新巩固', count: store.mistakes.length, icon: 'closeempty', bg: '#fb7185' }\r\n])\r\n\r\nconst toDisplayWord = (word) => {\r\n  if (!word) return null\r\n  return {\r\n    ...word,\r\n    bookName: word.bookName || store.currentBook?.name || '未知词书'\r\n  }\r\n}\r\n\r\nconst favoriteWords = computed(() => {\r\n  const map = new Map(store.currentWords.map((item) => [item.id, toDisplayWord(item)]))\r\n  return store.favorites.map((id) => map.get(id)).filter(Boolean)\r\n})\r\n\r\nconst mistakeWords = computed(() => {\r\n  const map = new Map(store.currentWords.map((item) => [item.id, toDisplayWord(item)]))\r\n  return store.mistakes.map((id) => map.get(id)).filter(Boolean)\r\n})\r\n\r\nconst onSearchConfirm = () => {\r\n  currentPage.value = 1\r\n}\r\n\r\nconst clearSearch = () => {\r\n  searchKeyword.value = ''\r\n}\r\n\r\nwatch(searchKeyword, () => {\r\n  currentPage.value = 1\r\n})\r\n\r\nconst changePage = (direction) => {\r\n  if (direction === 'prev' && currentPage.value > 1) {\r\n    currentPage.value -= 1\r\n  }\r\n  if (direction === 'next' && currentPage.value < totalPages.value) {\r\n    currentPage.value += 1\r\n  }\r\n}\r\n\r\nconst jumpRandom = () => {\r\n  if (!filteredWords.value.length) return\r\n  const randomWord = filteredWords.value[Math.floor(Math.random() * filteredWords.value.length)]\r\n  handleWordSelect(randomWord)\r\n}\r\n\r\nconst handleQuickAction = (action) => {\r\n  switch (action.type) {\r\n    case 'random':\r\n      jumpRandom()\r\n      break\r\n    case 'favorites':\r\n      favoriteWords.value.length\r\n        ? handleWordSelect(favoriteWords.value[0])\r\n        : uni.showToast({ title: '暂无收藏', icon: 'none' })\r\n      break\r\n    case 'mistakes':\r\n      mistakeWords.value.length\r\n        ? handleWordSelect(mistakeWords.value[0])\r\n        : uni.showToast({ title: '暂无错词', icon: 'none' })\r\n      break\r\n    default:\r\n      break\r\n  }\r\n}\r\n\r\nconst handleWordSelect = (word) => {\r\n  if (!word) return\r\n  store.jumpToWord(word.id)\r\n  jumpToPageForWord(word.id)\r\n}\r\n\r\nconst jumpToPageForWord = (wordId) => {\r\n  const index = filteredWords.value.findIndex((item) => item.id === wordId)\r\n  if (index === -1) return\r\n  currentPage.value = Math.floor(index / PAGE_SIZE) + 1\r\n}\r\n\r\nconst markCurrentWord = (status) => {\r\n  if (!store.currentWord) return\r\n  if (status === 'mastered') {\r\n    store.markMastered(store.currentWord.id)\r\n    uni.showToast({ title: '已标记为掌握', icon: 'none' })\r\n  } else {\r\n    store.markMistake(store.currentWord.id)\r\n    uni.showToast({ title: '已加入错词', icon: 'none' })\r\n  }\r\n  store.setCurrentWordIndex(store.currentWordIndex + 1)\r\n}\r\n\r\nconst toggleFavorite = () => {\r\n  if (!store.currentWord) return\r\n  const existed = store.favorites.includes(store.currentWord.id)\r\n  store.toggleFavorite(store.currentWord.id)\r\n  uni.showToast({ title: existed ? '已移出收藏' : '已加入收藏', icon: 'none' })\r\n}\r\n\r\nconst handleSelectBook = async (book) => {\r\n  if (!book) return\r\n  await store.selectBook(book.id)\r\n  await store.loadWords(book.id)\r\n  selectorVisible.value = false\r\n  searchKeyword.value = ''\r\n}\r\n\r\nconst sanitizePronunciationText = (text) => {\r\n  if (!text) return ''\r\n  return text\r\n    .replace(/\\([^)]*\\)/g, ' ')\r\n    .replace(/[^a-zA-Z0-9\\s-]/g, ' ')\r\n    .replace(/\\s+/g, ' ')\r\n    .trim()\r\n}\r\n\r\nconst playPronunciation = () => {\r\n  if (!store.currentWord) return\r\n  if (!uni.createInnerAudioContext) {\r\n    uni.showToast({ title: '当前环境不支持发音', icon: 'none' })\r\n    return\r\n  }\r\n  pronunciationState.loading = true\r\n  pronunciationState.error = ''\r\n  try {\r\n    setupAudioContext()\r\n    if (!audioContext) {\r\n      pronunciationState.error = '发音组件初始化失败'\r\n      return\r\n    }\r\n    const candidate = store.currentWord.english || store.currentWord.word || ''\r\n    const sanitized = sanitizePronunciationText(candidate)\r\n    const finalQuery = sanitized || candidate\r\n    audioContext.src = `${DICT_VOICE_URL}${encodeURIComponent(finalQuery)}`\r\n    audioContext.play()\r\n  } catch (error) {\r\n    console.error('播放发音出错', error)\r\n    pronunciationState.error = '发音服务异常，请稍后再试'\r\n  } finally {\r\n    pronunciationState.loading = false\r\n  }\r\n}\r\n\r\nconst setupAudioContext = () => {\r\n  if (audioContext || !uni.createInnerAudioContext) return\r\n  audioContext = uni.createInnerAudioContext()\r\n  audioContext.obeyMuteSwitch = false\r\n  audioContext.onStop(() => {\r\n    pronunciationState.error = ''\r\n  })\r\n  audioContext.onError((error) => {\r\n    console.error('发音播放失败', error)\r\n    pronunciationState.error = '无法获取发音，请稍后重试'\r\n  })\r\n}\r\n\r\nconst destroyAudioContext = () => {\r\n  if (audioContext) {\r\n    audioContext.stop()\r\n    audioContext.destroy()\r\n    audioContext = null\r\n  }\r\n}\r\n\r\nconst initDetailPage = async (bookId) => {\r\n  if (initializing.value) return\r\n  initializing.value = true\r\n  try {\r\n    if (!store.books.length) {\r\n      await store.loadBooks()\r\n    }\r\n    if (bookId) {\r\n      await store.selectBook(bookId)\r\n    } else if (!store.selectedBookId && store.books.length) {\r\n      await store.selectBook(store.books[0].id)\r\n    }\r\n    if (store.selectedBookId && !store.currentWords.length) {\r\n      await store.loadWords(store.selectedBookId)\r\n    }\r\n  } finally {\r\n    initializing.value = false\r\n  }\r\n}\r\n\r\nwatch(filteredWords, () => {\r\n  if ((currentPage.value - 1) * PAGE_SIZE >= filteredWords.value.length) {\r\n    currentPage.value = 1\r\n  }\r\n})\r\n\r\nwatch(\r\n  () => store.selectedBookId,\r\n  (bookId) => {\r\n    currentPage.value = 1\r\n    searchKeyword.value = ''\r\n    if (bookId && !store.wordsByBook?.[bookId]) {\r\n      store.loadWords(bookId)\r\n    }\r\n  }\r\n)\r\n\r\nonLoad((options) => {\r\n  const bookId = options?.bookId\r\n  initDetailPage(bookId)\r\n})\r\n\r\nonMounted(() => {\r\n  setupAudioContext()\r\n})\r\n\r\nonUnmounted(() => {\r\n  destroyAudioContext()\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.word-detail-page {\r\n  min-height: 100vh;\r\n  padding: 30rpx 24rpx 80rpx;\r\n  background: linear-gradient(180deg, #f8faff 0%, #f4f7fb 50%, #fff 100%);\r\n}\r\n\r\n.search-card {\r\n  margin-top: 16rpx;\r\n  margin-bottom: 26rpx;\r\n  padding: 24rpx 22rpx;\r\n  border-radius: 28rpx;\r\n  background: #ffffff;\r\n  box-shadow: 0 20rpx 36rpx rgba(15, 23, 42, 0.08);\r\n}\r\n\r\n.search-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 14rpx;\r\n  background: #f5f6fb;\r\n  border-radius: 999rpx;\r\n  padding: 12rpx 20rpx;\r\n}\r\n\r\n.search-input {\r\n  flex: 1;\r\n  font-size: 26rpx;\r\n}\r\n\r\n.search-clear {\r\n  width: 40rpx;\r\n  height: 40rpx;\r\n  border-radius: 50%;\r\n  background: rgba(148, 163, 184, 0.2);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.search-meta {\r\n  margin-top: 12rpx;\r\n  font-size: 24rpx;\r\n  color: #6b7280;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.search-link {\r\n  color: #6366f1;\r\n}\r\n\r\n.action-row {\r\n  margin-top: 18rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 14rpx;\r\n}\r\n\r\n.action-pill {\r\n  display: flex;\r\n  align-items: center;\r\n  border-radius: 20rpx;\r\n  padding: 16rpx;\r\n  color: #fff;\r\n  box-shadow: 0 10rpx 20rpx rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.pill-icon {\r\n  width: 48rpx;\r\n  height: 48rpx;\r\n  border-radius: 14rpx;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 14rpx;\r\n}\r\n\r\n.pill-info {\r\n  flex: 1;\r\n}\r\n\r\n.pill-title {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n}\r\n\r\n.pill-desc {\r\n  font-size: 24rpx;\r\n  opacity: 0.85;\r\n}\r\n\r\n.pill-count {\r\n  font-size: 30rpx;\r\n  font-weight: 700;\r\n}\r\n\r\n.word-list-section {\r\n  margin-top: 30rpx;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'E:/开源项目/wx/uni-ui/pages/word-practice/word-detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["useWordPracticeStore","ref","reactive","computed","watch","uni","onLoad","onMounted","onUnmounted"],"mappings":"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"}