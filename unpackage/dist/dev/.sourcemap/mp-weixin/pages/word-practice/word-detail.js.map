{"version":3,"file":"word-detail.js","sources":["pages/word-practice/word-detail.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvd29yZC1wcmFjdGljZS93b3JkLWRldGFpbC52dWU"],"sourcesContent":["<template>\n  <view class=\"word-detail-page\">\n    <WordPracticeHeader\n      :book=\"store.currentBook\"\n      :learning-rate=\"store.learningRate\"\n      :stats=\"heroStats\"\n      :loading=\"store.wordsLoading || store.booksLoading\"\n      @open-selector=\"selectorVisible = true\"\n    />\n\n    <WordPracticePanel\n      :word=\"store.currentWord\"\n      :index=\"store.currentWordIndex\"\n      :total=\"store.currentWords.length\"\n      :mastery-label=\"masteryLabel\"\n      :is-favorite=\"isFavorite\"\n      :next-preview=\"nextPreview\"\n      :pronunciation-state=\"pronunciationState\"\n      @play=\"playPronunciation\"\n      @toggle-favorite=\"toggleFavorite\"\n      @mark-mastered=\"markCurrentWord('mastered')\"\n      @mark-mistake=\"markCurrentWord('mistake')\"\n      @next=\"store.setCurrentWordIndex(store.currentWordIndex + 1)\"\n      @prev=\"store.setCurrentWordIndex(store.currentWordIndex - 1)\"\n    />\n\n    <view class=\"search-card\">\n      <view class=\"search-bar\">\n        <uni-icons type=\"search\" size=\"18\" color=\"#94a3b8\" />\n        <input\n          class=\"search-input\"\n          v-model=\"searchKeyword\"\n          placeholder=\"输入英文或中文关键字\"\n          confirm-type=\"search\"\n          @confirm=\"onSearchConfirm\"\n        />\n        <view class=\"search-clear\" v-if=\"searchKeyword\" @click=\"clearSearch\">\n          <uni-icons type=\"closeempty\" size=\"16\" color=\"#94a3b8\" />\n        </view>\n      </view>\n      <view class=\"search-meta\">\n        <text>共 {{ filteredWords.length }} 词 · 第 {{ currentPage }}/{{ totalPages }}</text>\n        <text class=\"search-link\" @click=\"jumpRandom\">随机一词</text>\n      </view>\n      <view class=\"action-row\">\n        <view\n          class=\"action-pill\"\n          v-for=\"action in quickActions\"\n          :key=\"action.type\"\n          :style=\"{ background: action.bg }\"\n          @click=\"handleQuickAction(action)\"\n        >\n          <view class=\"pill-icon\">\n            <uni-icons :type=\"action.icon\" size=\"18\" color=\"#fff\" />\n          </view>\n          <view class=\"pill-info\">\n            <text class=\"pill-title\">{{ action.name }}</text>\n            <text class=\"pill-desc\">{{ action.desc }}</text>\n          </view>\n          <text class=\"pill-count\">{{ action.count }}</text>\n        </view>\n      </view>\n    </view>\n\n    <WordListTable\n      class=\"word-list-section\"\n      :words=\"paginatedWords\"\n      :current-page=\"currentPage\"\n      :total-pages=\"totalPages\"\n      @change-page=\"changePage\"\n      @select=\"handleWordSelect\"\n    />\n\n    <WordBookSelector\n      :visible=\"selectorVisible\"\n      :books=\"store.books\"\n      :selected-book-id=\"store.selectedBookId\"\n      :loading=\"store.booksLoading\"\n      @close=\"selectorVisible = false\"\n      @select=\"handleSelectBook\"\n    />\n  </view>\n</template>\n\n<script setup>\nimport { computed, ref, reactive, watch, onMounted, onUnmounted } from 'vue'\nimport { onLoad } from '@dcloudio/uni-app'\nimport WordPracticeHeader from '@/components/word-practice/WordPracticeHeader.vue'\nimport WordPracticePanel from '@/components/word-practice/WordPracticePanel.vue'\nimport WordListTable from '@/components/word-practice/WordListTable.vue'\nimport WordBookSelector from '@/components/word-practice/WordBookSelector.vue'\nimport { useWordPracticeStore } from '@/stores/wordPractice.js'\n\nconst PAGE_SIZE = 30\nconst DICT_VOICE_URL = 'https://dict.youdao.com/dictvoice?type=2&audio='\n\nconst store = useWordPracticeStore()\nconst searchKeyword = ref('')\nconst currentPage = ref(1)\nconst selectorVisible = ref(false)\nconst initializing = ref(false)\nconst pronunciationState = reactive({ loading: false, error: '' })\n\nlet audioContext = null\n\nconst resetAudioContext = () => {\n  if (!audioContext) return\n  audioContext.stop()\n  audioContext.destroy()\n  audioContext = null\n}\n\nconst filteredWords = computed(() => {\n  const keyword = searchKeyword.value.trim().toLowerCase()\n  if (!keyword) return store.currentWords\n  return store.currentWords.filter((word) => {\n    return word.english?.toLowerCase().includes(keyword) || word.chinese?.includes(keyword)\n  })\n})\n\nconst totalPages = computed(() => Math.max(1, Math.ceil(filteredWords.value.length / PAGE_SIZE)))\nconst paginatedWords = computed(() => {\n  const start = (currentPage.value - 1) * PAGE_SIZE\n  return filteredWords.value.slice(start, start + PAGE_SIZE)\n})\n\nconst heroStats = computed(() => [\n  { label: '词汇总数', value: store.currentWords.length },\n  { label: '已掌握', value: store.mastered.length },\n  { label: '收藏', value: store.favorites.length }\n])\n\nconst isFavorite = computed(() => store.currentWord && store.favorites.includes(store.currentWord.id))\n\nconst masteryLabel = computed(() => {\n  const wordId = store.currentWord?.id\n  if (!wordId) return '未学习'\n  if (store.mastered.includes(wordId)) return '已掌握'\n  if (store.mistakes.includes(wordId)) return '待复习'\n  return '未学习'\n})\n\nconst nextPreview = computed(() => {\n  if (!store.currentWords.length) return '--'\n  const nextIndex = (store.currentWordIndex + 1) % store.currentWords.length\n  return store.currentWords[nextIndex]?.english || '--'\n})\n\nconst quickActions = computed(() => [\n  {\n    type: 'random',\n    name: '随机练习',\n    desc: '打破顺序',\n    count: '',\n    icon: 'loop',\n    bg: 'linear-gradient(135deg, #4f46e5, #7c3aed)'\n  },\n  {\n    type: 'favorites',\n    name: '收藏夹',\n    desc: '高频复习',\n    count: store.favorites.length,\n    icon: 'star',\n    bg: 'linear-gradient(135deg, #f59e0b, #f97316)'\n  },\n  {\n    type: 'mistakes',\n    name: '错词集',\n    desc: '重新巩固',\n    count: store.mistakes.length,\n    icon: 'closeempty',\n    bg: 'linear-gradient(135deg, #fb7185, #f43f5e)'\n  }\n])\n\nconst toDisplayWord = (word) => {\n  if (!word) return null\n  return {\n    ...word,\n    bookName: word.bookName || store.currentBook?.name || '未知词书'\n  }\n}\n\nconst favoriteWords = computed(() => {\n  const map = new Map(store.currentWords.map((item) => [item.id, toDisplayWord(item)]))\n  return store.favorites.map((id) => map.get(id)).filter(Boolean)\n})\n\nconst mistakeWords = computed(() => {\n  const map = new Map(store.currentWords.map((item) => [item.id, toDisplayWord(item)]))\n  return store.mistakes.map((id) => map.get(id)).filter(Boolean)\n})\n\nconst onSearchConfirm = () => {\n  currentPage.value = 1\n}\n\nconst clearSearch = () => {\n  searchKeyword.value = ''\n}\n\nwatch(searchKeyword, () => {\n  currentPage.value = 1\n})\n\nconst changePage = (direction) => {\n  if (direction === 'prev' && currentPage.value > 1) {\n    currentPage.value -= 1\n  }\n  if (direction === 'next' && currentPage.value < totalPages.value) {\n    currentPage.value += 1\n  }\n}\n\nconst jumpRandom = () => {\n  if (!filteredWords.value.length) return\n  const randomWord = filteredWords.value[Math.floor(Math.random() * filteredWords.value.length)]\n  handleWordSelect(randomWord)\n}\n\nconst handleQuickAction = (action) => {\n  switch (action.type) {\n    case 'random':\n      jumpRandom()\n      break\n    case 'favorites':\n      favoriteWords.value.length\n        ? handleWordSelect(favoriteWords.value[0])\n        : uni.showToast({ title: '暂无收藏', icon: 'none' })\n      break\n    case 'mistakes':\n      mistakeWords.value.length\n        ? handleWordSelect(mistakeWords.value[0])\n        : uni.showToast({ title: '暂无错词', icon: 'none' })\n      break\n    default:\n      break\n  }\n}\n\nconst handleWordSelect = (word) => {\n  if (!word) return\n  store.jumpToWord(word.id)\n  jumpToPageForWord(word.id)\n}\n\nconst jumpToPageForWord = (wordId) => {\n  const index = filteredWords.value.findIndex((item) => item.id === wordId)\n  if (index === -1) return\n  currentPage.value = Math.floor(index / PAGE_SIZE) + 1\n}\n\nconst markCurrentWord = (status) => {\n  if (!store.currentWord) return\n  if (status === 'mastered') {\n    store.markMastered(store.currentWord.id)\n    uni.showToast({ title: '已标记为掌握', icon: 'none' })\n  } else {\n    store.markMistake(store.currentWord.id)\n    uni.showToast({ title: '已加入错词', icon: 'none' })\n  }\n  store.setCurrentWordIndex(store.currentWordIndex + 1)\n}\n\nconst toggleFavorite = () => {\n  if (!store.currentWord) return\n  const existed = store.favorites.includes(store.currentWord.id)\n  store.toggleFavorite(store.currentWord.id)\n  uni.showToast({ title: existed ? '已移出收藏' : '已加入收藏', icon: 'none' })\n}\n\nconst handleSelectBook = async (book) => {\n  if (!book) return\n  await store.selectBook(book.id)\n  selectorVisible.value = false\n  searchKeyword.value = ''\n}\n\nconst sanitizePronunciationText = (text) => {\n  if (!text) return ''\n  return text\n    .replace(/\\([^)]*\\)/g, ' ')\n    .replace(/[^a-zA-Z0-9\\s-]/g, ' ')\n    .replace(/\\s+/g, ' ')\n    .trim()\n}\n\nconst playPronunciation = () => {\n  if (!store.currentWord) return\n  if (!uni.createInnerAudioContext) {\n    uni.showToast({ title: '当前环境不支持发音', icon: 'none' })\n    return\n  }\n  pronunciationState.loading = true\n  pronunciationState.error = ''\n  try {\n    setupAudioContext()\n    if (!audioContext) {\n      pronunciationState.error = '发音组件初始化失败'\n      return\n    }\n    const candidate = store.currentWord.english || store.currentWord.word || ''\n    const sanitized = sanitizePronunciationText(candidate)\n    const finalQuery = sanitized || candidate\n    audioContext.stop()\n    audioContext.src = `${DICT_VOICE_URL}${encodeURIComponent(finalQuery)}`\n    audioContext.play()\n  } catch (error) {\n    console.error('播放发音出错', error)\n    pronunciationState.error = '发音服务异常，请稍后再试'\n    resetAudioContext()\n  } finally {\n    pronunciationState.loading = false\n  }\n}\n\nconst setupAudioContext = () => {\n  if (audioContext || !uni.createInnerAudioContext) return\n  audioContext = uni.createInnerAudioContext()\n  audioContext.obeyMuteSwitch = false\n  audioContext.onStop(() => {\n    pronunciationState.error = ''\n  })\n  audioContext.onError((error) => {\n    console.error('发音播放失败', error)\n    pronunciationState.error = '无法获取发音，请稍后重试'\n    pronunciationState.loading = false\n    resetAudioContext()\n  })\n}\n\nconst destroyAudioContext = () => {\n  resetAudioContext()\n}\n\nconst initDetailPage = async (bookId) => {\n  if (initializing.value) return\n  initializing.value = true\n  try {\n    if (!store.books.length) {\n      await store.loadBooks()\n    }\n    if (bookId) {\n      await store.selectBook(bookId)\n    } else if (!store.selectedBookId && store.books.length) {\n      await store.selectBook(store.books[0].id)\n    }\n    if (store.selectedBookId && !store.currentWords.length) {\n      await store.loadWords(store.selectedBookId)\n    }\n  } finally {\n    initializing.value = false\n  }\n}\n\nwatch(filteredWords, () => {\n  if ((currentPage.value - 1) * PAGE_SIZE >= filteredWords.value.length) {\n    currentPage.value = 1\n  }\n})\n\nwatch(\n  () => store.selectedBookId,\n  () => {\n    currentPage.value = 1\n    searchKeyword.value = ''\n  }\n)\n\nonLoad((options) => {\n  const bookId = options?.bookId\n  initDetailPage(bookId)\n})\n\nonMounted(() => {\n  setupAudioContext()\n})\n\nonUnmounted(() => {\n  destroyAudioContext()\n})\n</script>\n\n<style scoped lang=\"scss\">\n.word-detail-page {\n  min-height: 100vh;\n  padding: 30rpx 24rpx 80rpx;\n  background: linear-gradient(180deg, #f9fbff 0%, #f1f4ff 40%, #fdf9ff 100%);\n}\n\n.search-card {\n  margin: 18rpx 0 24rpx;\n  padding: 26rpx 24rpx;\n  border-radius: 28rpx;\n  background: rgba(255, 255, 255, 0.96);\n  border: 1px solid #eef2ff;\n  box-shadow: 0 20rpx 40rpx rgba(15, 23, 42, 0.08);\n}\n\n.search-bar {\n  display: flex;\n  align-items: center;\n  gap: 14rpx;\n  background: #f6f7fb;\n  border-radius: 999rpx;\n  padding: 14rpx 20rpx;\n  border: 1px solid rgba(99, 102, 241, 0.12);\n}\n\n.search-input {\n  flex: 1;\n  font-size: 28rpx;\n  color: #0f172a;\n}\n\n.search-clear {\n  width: 40rpx;\n  height: 40rpx;\n  border-radius: 50%;\n  background: rgba(148, 163, 184, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.search-meta {\n  margin-top: 14rpx;\n  font-size: 24rpx;\n  color: #6b7280;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.search-link {\n  padding: 8rpx 18rpx;\n  border-radius: 999rpx;\n  background: #eef2ff;\n  color: #4338ca;\n  font-size: 24rpx;\n}\n\n.action-row {\n  margin-top: 18rpx;\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  gap: 14rpx;\n}\n\n.action-pill {\n  display: flex;\n  align-items: center;\n  border-radius: 22rpx;\n  padding: 18rpx;\n  color: #fff;\n  box-shadow: 0 12rpx 24rpx rgba(15, 23, 42, 0.12);\n  position: relative;\n  overflow: hidden;\n}\n\n.action-pill:nth-child(3) {\n  grid-column: span 2;\n}\n\n.pill-icon {\n  width: 48rpx;\n  height: 48rpx;\n  border-radius: 14rpx;\n  background: rgba(255, 255, 255, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 14rpx;\n}\n\n.pill-info {\n  flex: 1;\n}\n\n.pill-title {\n  display: block;\n  font-size: 28rpx;\n  font-weight: 600;\n}\n\n.pill-desc {\n  font-size: 24rpx;\n  opacity: 0.85;\n}\n\n.pill-count {\n  font-size: 32rpx;\n  font-weight: 700;\n}\n\n.word-list-section {\n  margin-top: 26rpx;\n}\n</style>\n","import MiniProgramPage from 'E:/personal/wx/uni-ui/pages/word-practice/word-detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["useWordPracticeStore","ref","reactive","computed","watch","uni","onLoad","onMounted","onUnmounted"],"mappings":";;;;;;;;;;;AAuFA,MAAM,qBAAqB,MAAW;AACtC,MAAM,oBAAoB,MAAW;AACrC,MAAM,gBAAgB,MAAW;AACjC,MAAM,mBAAmB,MAAW;AAGpC,MAAM,YAAY;AAClB,MAAM,iBAAiB;;;;AAEvB,UAAM,QAAQA,oBAAAA,qBAAsB;AACpC,UAAM,gBAAgBC,cAAG,IAAC,EAAE;AAC5B,UAAM,cAAcA,cAAG,IAAC,CAAC;AACzB,UAAM,kBAAkBA,cAAG,IAAC,KAAK;AACjC,UAAM,eAAeA,cAAG,IAAC,KAAK;AAC9B,UAAM,qBAAqBC,cAAQ,SAAC,EAAE,SAAS,OAAO,OAAO,IAAI;AAEjE,QAAI,eAAe;AAEnB,UAAM,oBAAoB,MAAM;AAC9B,UAAI,CAAC;AAAc;AACnB,mBAAa,KAAM;AACnB,mBAAa,QAAS;AACtB,qBAAe;AAAA,IACjB;AAEA,UAAM,gBAAgBC,cAAQ,SAAC,MAAM;AACnC,YAAM,UAAU,cAAc,MAAM,KAAI,EAAG,YAAa;AACxD,UAAI,CAAC;AAAS,eAAO,MAAM;AAC3B,aAAO,MAAM,aAAa,OAAO,CAAC,SAAS;;AACzC,iBAAO,UAAK,YAAL,mBAAc,cAAc,SAAS,eAAY,UAAK,YAAL,mBAAc,SAAS;AAAA,MACnF,CAAG;AAAA,IACH,CAAC;AAED,UAAM,aAAaA,cAAAA,SAAS,MAAM,KAAK,IAAI,GAAG,KAAK,KAAK,cAAc,MAAM,SAAS,SAAS,CAAC,CAAC;AAChG,UAAM,iBAAiBA,cAAQ,SAAC,MAAM;AACpC,YAAM,SAAS,YAAY,QAAQ,KAAK;AACxC,aAAO,cAAc,MAAM,MAAM,OAAO,QAAQ,SAAS;AAAA,IAC3D,CAAC;AAED,UAAM,YAAYA,cAAQ,SAAC,MAAM;AAAA,MAC/B,EAAE,OAAO,QAAQ,OAAO,MAAM,aAAa,OAAQ;AAAA,MACnD,EAAE,OAAO,OAAO,OAAO,MAAM,SAAS,OAAQ;AAAA,MAC9C,EAAE,OAAO,MAAM,OAAO,MAAM,UAAU,OAAQ;AAAA,IAChD,CAAC;AAED,UAAM,aAAaA,cAAQ,SAAC,MAAM,MAAM,eAAe,MAAM,UAAU,SAAS,MAAM,YAAY,EAAE,CAAC;AAErG,UAAM,eAAeA,cAAQ,SAAC,MAAM;;AAClC,YAAM,UAAS,WAAM,gBAAN,mBAAmB;AAClC,UAAI,CAAC;AAAQ,eAAO;AACpB,UAAI,MAAM,SAAS,SAAS,MAAM;AAAG,eAAO;AAC5C,UAAI,MAAM,SAAS,SAAS,MAAM;AAAG,eAAO;AAC5C,aAAO;AAAA,IACT,CAAC;AAED,UAAM,cAAcA,cAAQ,SAAC,MAAM;;AACjC,UAAI,CAAC,MAAM,aAAa;AAAQ,eAAO;AACvC,YAAM,aAAa,MAAM,mBAAmB,KAAK,MAAM,aAAa;AACpE,eAAO,WAAM,aAAa,SAAS,MAA5B,mBAA+B,YAAW;AAAA,IACnD,CAAC;AAED,UAAM,eAAeA,cAAQ,SAAC,MAAM;AAAA,MAClC;AAAA,QACE,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA,QACN,OAAO;AAAA,QACP,MAAM;AAAA,QACN,IAAI;AAAA,MACL;AAAA,MACD;AAAA,QACE,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA,QACN,OAAO,MAAM,UAAU;AAAA,QACvB,MAAM;AAAA,QACN,IAAI;AAAA,MACL;AAAA,MACD;AAAA,QACE,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA,QACN,OAAO,MAAM,SAAS;AAAA,QACtB,MAAM;AAAA,QACN,IAAI;AAAA,MACL;AAAA,IACH,CAAC;AAED,UAAM,gBAAgB,CAAC,SAAS;;AAC9B,UAAI,CAAC;AAAM,eAAO;AAClB,aAAO;AAAA,QACL,GAAG;AAAA,QACH,UAAU,KAAK,cAAY,WAAM,gBAAN,mBAAmB,SAAQ;AAAA,MACvD;AAAA,IACH;AAEA,UAAM,gBAAgBA,cAAQ,SAAC,MAAM;AACnC,YAAM,MAAM,IAAI,IAAI,MAAM,aAAa,IAAI,CAAC,SAAS,CAAC,KAAK,IAAI,cAAc,IAAI,CAAC,CAAC,CAAC;AACpF,aAAO,MAAM,UAAU,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE,CAAC,EAAE,OAAO,OAAO;AAAA,IAChE,CAAC;AAED,UAAM,eAAeA,cAAQ,SAAC,MAAM;AAClC,YAAM,MAAM,IAAI,IAAI,MAAM,aAAa,IAAI,CAAC,SAAS,CAAC,KAAK,IAAI,cAAc,IAAI,CAAC,CAAC,CAAC;AACpF,aAAO,MAAM,SAAS,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE,CAAC,EAAE,OAAO,OAAO;AAAA,IAC/D,CAAC;AAED,UAAM,kBAAkB,MAAM;AAC5B,kBAAY,QAAQ;AAAA,IACtB;AAEA,UAAM,cAAc,MAAM;AACxB,oBAAc,QAAQ;AAAA,IACxB;AAEAC,kBAAK,MAAC,eAAe,MAAM;AACzB,kBAAY,QAAQ;AAAA,IACtB,CAAC;AAED,UAAM,aAAa,CAAC,cAAc;AAChC,UAAI,cAAc,UAAU,YAAY,QAAQ,GAAG;AACjD,oBAAY,SAAS;AAAA,MACtB;AACD,UAAI,cAAc,UAAU,YAAY,QAAQ,WAAW,OAAO;AAChE,oBAAY,SAAS;AAAA,MACtB;AAAA,IACH;AAEA,UAAM,aAAa,MAAM;AACvB,UAAI,CAAC,cAAc,MAAM;AAAQ;AACjC,YAAM,aAAa,cAAc,MAAM,KAAK,MAAM,KAAK,WAAW,cAAc,MAAM,MAAM,CAAC;AAC7F,uBAAiB,UAAU;AAAA,IAC7B;AAEA,UAAM,oBAAoB,CAAC,WAAW;AACpC,cAAQ,OAAO,MAAI;AAAA,QACjB,KAAK;AACH,qBAAY;AACZ;AAAA,QACF,KAAK;AACH,wBAAc,MAAM,SAChB,iBAAiB,cAAc,MAAM,CAAC,CAAC,IACvCC,cAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AACjD;AAAA,QACF,KAAK;AACH,uBAAa,MAAM,SACf,iBAAiB,aAAa,MAAM,CAAC,CAAC,IACtCA,cAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AACjD;AAAA,MAGH;AAAA,IACH;AAEA,UAAM,mBAAmB,CAAC,SAAS;AACjC,UAAI,CAAC;AAAM;AACX,YAAM,WAAW,KAAK,EAAE;AACxB,wBAAkB,KAAK,EAAE;AAAA,IAC3B;AAEA,UAAM,oBAAoB,CAAC,WAAW;AACpC,YAAM,QAAQ,cAAc,MAAM,UAAU,CAAC,SAAS,KAAK,OAAO,MAAM;AACxE,UAAI,UAAU;AAAI;AAClB,kBAAY,QAAQ,KAAK,MAAM,QAAQ,SAAS,IAAI;AAAA,IACtD;AAEA,UAAM,kBAAkB,CAAC,WAAW;AAClC,UAAI,CAAC,MAAM;AAAa;AACxB,UAAI,WAAW,YAAY;AACzB,cAAM,aAAa,MAAM,YAAY,EAAE;AACvCA,sBAAG,MAAC,UAAU,EAAE,OAAO,UAAU,MAAM,QAAQ;AAAA,MACnD,OAAS;AACL,cAAM,YAAY,MAAM,YAAY,EAAE;AACtCA,sBAAG,MAAC,UAAU,EAAE,OAAO,SAAS,MAAM,QAAQ;AAAA,MAC/C;AACD,YAAM,oBAAoB,MAAM,mBAAmB,CAAC;AAAA,IACtD;AAEA,UAAM,iBAAiB,MAAM;AAC3B,UAAI,CAAC,MAAM;AAAa;AACxB,YAAM,UAAU,MAAM,UAAU,SAAS,MAAM,YAAY,EAAE;AAC7D,YAAM,eAAe,MAAM,YAAY,EAAE;AACzCA,0BAAI,UAAU,EAAE,OAAO,UAAU,UAAU,SAAS,MAAM,QAAQ;AAAA,IACpE;AAEA,UAAM,mBAAmB,OAAO,SAAS;AACvC,UAAI,CAAC;AAAM;AACX,YAAM,MAAM,WAAW,KAAK,EAAE;AAC9B,sBAAgB,QAAQ;AACxB,oBAAc,QAAQ;AAAA,IACxB;AAEA,UAAM,4BAA4B,CAAC,SAAS;AAC1C,UAAI,CAAC;AAAM,eAAO;AAClB,aAAO,KACJ,QAAQ,cAAc,GAAG,EACzB,QAAQ,oBAAoB,GAAG,EAC/B,QAAQ,QAAQ,GAAG,EACnB,KAAM;AAAA,IACX;AAEA,UAAM,oBAAoB,MAAM;AAC9B,UAAI,CAAC,MAAM;AAAa;AACxB,UAAI,CAACA,cAAG,MAAC,yBAAyB;AAChCA,sBAAG,MAAC,UAAU,EAAE,OAAO,aAAa,MAAM,QAAQ;AAClD;AAAA,MACD;AACD,yBAAmB,UAAU;AAC7B,yBAAmB,QAAQ;AAC3B,UAAI;AACF,0BAAmB;AACnB,YAAI,CAAC,cAAc;AACjB,6BAAmB,QAAQ;AAC3B;AAAA,QACD;AACD,cAAM,YAAY,MAAM,YAAY,WAAW,MAAM,YAAY,QAAQ;AACzE,cAAM,YAAY,0BAA0B,SAAS;AACrD,cAAM,aAAa,aAAa;AAChC,qBAAa,KAAM;AACnB,qBAAa,MAAM,GAAG,cAAc,GAAG,mBAAmB,UAAU,CAAC;AACrE,qBAAa,KAAM;AAAA,MACpB,SAAQ,OAAO;AACdA,sBAAAA,mEAAc,UAAU,KAAK;AAC7B,2BAAmB,QAAQ;AAC3B,0BAAmB;AAAA,MACvB,UAAY;AACR,2BAAmB,UAAU;AAAA,MAC9B;AAAA,IACH;AAEA,UAAM,oBAAoB,MAAM;AAC9B,UAAI,gBAAgB,CAACA,oBAAI;AAAyB;AAClD,qBAAeA,cAAG,MAAC,wBAAyB;AAC5C,mBAAa,iBAAiB;AAC9B,mBAAa,OAAO,MAAM;AACxB,2BAAmB,QAAQ;AAAA,MAC/B,CAAG;AACD,mBAAa,QAAQ,CAAC,UAAU;AAC9BA,sBAAAA,mEAAc,UAAU,KAAK;AAC7B,2BAAmB,QAAQ;AAC3B,2BAAmB,UAAU;AAC7B,0BAAmB;AAAA,MACvB,CAAG;AAAA,IACH;AAEA,UAAM,sBAAsB,MAAM;AAChC,wBAAmB;AAAA,IACrB;AAEA,UAAM,iBAAiB,OAAO,WAAW;AACvC,UAAI,aAAa;AAAO;AACxB,mBAAa,QAAQ;AACrB,UAAI;AACF,YAAI,CAAC,MAAM,MAAM,QAAQ;AACvB,gBAAM,MAAM,UAAW;AAAA,QACxB;AACD,YAAI,QAAQ;AACV,gBAAM,MAAM,WAAW,MAAM;AAAA,QACnC,WAAe,CAAC,MAAM,kBAAkB,MAAM,MAAM,QAAQ;AACtD,gBAAM,MAAM,WAAW,MAAM,MAAM,CAAC,EAAE,EAAE;AAAA,QACzC;AACD,YAAI,MAAM,kBAAkB,CAAC,MAAM,aAAa,QAAQ;AACtD,gBAAM,MAAM,UAAU,MAAM,cAAc;AAAA,QAC3C;AAAA,MACL,UAAY;AACR,qBAAa,QAAQ;AAAA,MACtB;AAAA,IACH;AAEAD,kBAAK,MAAC,eAAe,MAAM;AACzB,WAAK,YAAY,QAAQ,KAAK,aAAa,cAAc,MAAM,QAAQ;AACrE,oBAAY,QAAQ;AAAA,MACrB;AAAA,IACH,CAAC;AAEDA,kBAAK;AAAA,MACH,MAAM,MAAM;AAAA,MACZ,MAAM;AACJ,oBAAY,QAAQ;AACpB,sBAAc,QAAQ;AAAA,MACvB;AAAA,IACH;AAEAE,kBAAM,OAAC,CAAC,YAAY;AAClB,YAAM,SAAS,mCAAS;AACxB,qBAAe,MAAM;AAAA,IACvB,CAAC;AAEDC,kBAAAA,UAAU,MAAM;AACd,wBAAmB;AAAA,IACrB,CAAC;AAEDC,kBAAAA,YAAY,MAAM;AAChB,0BAAqB;AAAA,IACvB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3XD,GAAG,WAAW,eAAe;"}