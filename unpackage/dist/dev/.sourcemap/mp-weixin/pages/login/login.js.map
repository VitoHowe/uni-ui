{"version":3,"file":"login.js","sources":["pages/login/login.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vbG9naW4udnVl"],"sourcesContent":["<template>\r\n  <view class=\"login-container\">\r\n    <!-- 背景装饰 -->\r\n    <view class=\"background-decoration\">\r\n      <view class=\"circle circle-1\"></view>\r\n      <view class=\"circle circle-2\"></view>\r\n      <view class=\"circle circle-3\"></view>\r\n    </view>\r\n    \r\n    <!-- 头部Logo -->\r\n    <view class=\"header-section\">\r\n      <image src=\"/static/logo.png\" class=\"app-logo\" mode=\"aspectFit\" @error=\"onLogoError\" />\r\n      <text class=\"app-title\">高级信息系统项目管理师</text>\r\n      <text class=\"app-subtitle\">学习助手</text>\r\n    </view>\r\n    \r\n    <!-- 功能介绍 -->\r\n    <view class=\"features-section\">\r\n      <view class=\"feature-item\" v-for=\"(feature, index) in features\" :key=\"index\">\r\n        <view class=\"feature-icon\" :style=\"{backgroundColor: feature.color}\">\r\n          <uni-icons :type=\"feature.icon\" size=\"24\" color=\"#fff\" />\r\n        </view>\r\n        <view class=\"feature-content\">\r\n          <text class=\"feature-title\">{{ feature.title }}</text>\r\n          <text class=\"feature-desc\">{{ feature.description }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 登录提示 -->\r\n    <view class=\"login-prompt\">\r\n      <text class=\"prompt-text\">使用微信登录，享受完整学习功能</text>\r\n    </view>\r\n    \r\n    <!-- 登录按钮区域 -->\r\n    <view class=\"login-actions\">\r\n      <!-- 微信登录按钮 -->\r\n      <button \r\n        class=\"wechat-login-btn\"\r\n        :class=\"{ 'loading': authStore.loading.login }\"\r\n        :disabled=\"authStore.loading.login || showLoadingMask\"\r\n        @click=\"handleWechatLogin\"\r\n        open-type=\"getUserInfo\"\r\n        @getuserinfo=\"onGetUserInfo\"\r\n      >\r\n        <uni-icons \r\n          v-if=\"!authStore.loading.login && !showLoadingMask\" \r\n          type=\"weixin\" \r\n          size=\"20\" \r\n          color=\"#fff\" \r\n          style=\"margin-right: 10rpx;\" \r\n        />\r\n        <uni-icons \r\n          v-else\r\n          type=\"spinner-cycle\" \r\n          size=\"20\" \r\n          color=\"#fff\" \r\n          style=\"margin-right: 10rpx;\" \r\n        />\r\n        <text class=\"btn-text\">\r\n          {{ getLoginButtonText() }}\r\n        </text>\r\n      </button>\r\n      \r\n      <!-- 游客浏览按钮 -->\r\n      <button \r\n        class=\"guest-browse-btn\"\r\n        :disabled=\"authStore.loading.login\"\r\n        @click=\"handleGuestBrowse\"\r\n      >\r\n        <text class=\"btn-text\">暂不登录，游客浏览</text>\r\n      </button>\r\n    </view>\r\n    \r\n    <!-- 登录说明 -->\r\n    <view class=\"login-notice\">\r\n      <text class=\"notice-text\">\r\n        登录后可使用文件上传、学习进度同步、个人资料管理等完整功能\r\n      </text>\r\n    </view>\r\n    \r\n    <!-- 用户协议 -->\r\n    <view class=\"agreement-section\">\r\n      <text class=\"agreement-text\">\r\n        登录即表示同意\r\n        <text class=\"link-text\" @click=\"showUserAgreement\">《用户协议》</text>\r\n        和\r\n        <text class=\"link-text\" @click=\"showPrivacyPolicy\">《隐私政策》</text>\r\n      </text>\r\n    </view>\r\n    \r\n    <!-- 版本信息 -->\r\n    <view class=\"version-info\">\r\n      <text class=\"version-text\">版本 {{ appVersion }}</text>\r\n    </view>\r\n    \r\n    <!-- 加载遮罩 -->\r\n    <view v-if=\"showLoadingMask\" class=\"loading-mask\">\r\n      <view class=\"loading-content\">\r\n        <uni-icons type=\"spinner-cycle\" size=\"40\" color=\"#007AFF\" />\r\n        <text class=\"loading-text\">{{ loadingText }}</text>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, computed, onMounted } from 'vue'\r\nimport { useAuthStore } from '@/stores/auth.js'\r\nimport { RouteGuard } from '@/utils/auth.js'\r\nimport NavigationGuard from '@/utils/navigationGuard.js'\r\n\r\n// 状态管理\r\nconst authStore = useAuthStore()\r\n\r\n// 响应式数据\r\nconst appVersion = ref('1.0.0')\r\nconst showLoadingMask = ref(false)\r\nconst loadingText = ref('登录中...')\r\n\r\n// 功能特色介绍\r\nconst features = reactive([\r\n  {\r\n    title: '智能学习',\r\n    description: '个性化学习路径推荐',\r\n    icon: 'gear',\r\n    color: '#007AFF'\r\n  },\r\n  {\r\n    title: '题库练习',\r\n    description: '海量题目，精准练习',\r\n    icon: 'compose',\r\n    color: '#28a745'\r\n  },\r\n  {\r\n    title: '进度同步',\r\n    description: '多端数据实时同步',\r\n    icon: 'cloud-upload',\r\n    color: '#ffc107'\r\n  },\r\n  {\r\n    title: '文件上传',\r\n    description: '支持文档批量解析',\r\n    icon: 'folder',\r\n    color: '#17a2b8'\r\n  }\r\n])\r\n\r\n// 计算属性\r\nconst canLogin = computed(() => {\r\n  return !authStore.loading.login && !showLoadingMask.value\r\n})\r\n\r\n// 获取登录按钮文本\r\nconst getLoginButtonText = () => {\r\n  if (showLoadingMask.value) {\r\n    return loadingText.value || '处理中...'\r\n  }\r\n  if (authStore.loading.login) {\r\n    return '登录中...'\r\n  }\r\n  return '微信一键登录'\r\n}\r\n\r\n// Logo加载失败处理\r\nconst onLogoError = () => {\r\n  console.warn('Logo加载失败，使用默认图标')\r\n}\r\n\r\n// 微信登录处理\r\nconst handleWechatLogin = async () => {\r\n  console.log('🔘 用户点击微信登录按钮')\r\n  \r\n  // 防止重复点击\r\n  if (!canLogin.value) {\r\n    console.warn('⚠️ 当前正在登录中，忽略重复点击')\r\n    return\r\n  }\r\n  \r\n  try {\r\n    showLoadingMask.value = true\r\n    loadingText.value = '正在获取微信授权...'\r\n    \r\n    console.log('🚀 开始微信登录流程')\r\n    \r\n    // 尝试带用户信息的完整登录\r\n    await authStore.loginWithWechat(true, false)\r\n    \r\n    loadingText.value = '登录成功，跳转中...'\r\n    console.log('🎉 微信登录成功，准备跳转')\r\n    \r\n    // 登录成功，跳转到目标页面\r\n    await navigateAfterLogin()\r\n    \r\n  } catch (error) {\r\n    console.error('❌ 微信登录失败:', error)\r\n    \r\n    // 特殊处理code相关错误\r\n    if (authStore.isCodeRelatedError && authStore.isCodeRelatedError(error)) {\r\n      console.log('🔄 检测到code错误，显示重试选项')\r\n      uni.showModal({\r\n        title: '登录失败',\r\n        content: '微信授权码已失效，是否重新尝试登录？',\r\n        confirmText: '重试登录',\r\n        cancelText: '稍后再试',\r\n        success: async (res) => {\r\n          if (res.confirm) {\r\n            // 延迟后重试\r\n            setTimeout(() => {\r\n              handleWechatLogin()\r\n            }, 500)\r\n          }\r\n        }\r\n      })\r\n    } else {\r\n      handleLoginError(error)\r\n    }\r\n  } finally {\r\n    showLoadingMask.value = false\r\n  }\r\n}\r\n\r\n// 获取用户信息回调（兼容旧版本）\r\nconst onGetUserInfo = async (event) => {\r\n  console.log('获取用户信息:', event.detail)\r\n  \r\n  if (event.detail.errMsg === 'getUserInfo:ok') {\r\n    // 用户同意授权，已在 handleWechatLogin 中处理\r\n    return\r\n  } else {\r\n    // 用户拒绝授权，需要重新获取code进行基础登录\r\n    console.log('🔄 用户拒绝授权，尝试基础登录（使用新code）')\r\n    \r\n    if (!canLogin.value) {\r\n      console.warn('⚠️ 当前正在登录中，忽略重复请求')\r\n      return\r\n    }\r\n    \r\n    try {\r\n      showLoadingMask.value = true\r\n      loadingText.value = '正在进行基础登录...'\r\n      \r\n      // 使用新的code进行基础登录（标记为重试以强制获取新code）\r\n      await authStore.loginWithWechat(false, true)\r\n      \r\n      loadingText.value = '登录成功，跳转中...'\r\n      await navigateAfterLogin()\r\n      \r\n    } catch (error) {\r\n      console.error('基础登录失败:', error)\r\n      handleLoginError(error)\r\n    } finally {\r\n      showLoadingMask.value = false\r\n    }\r\n  }\r\n}\r\n\r\n// 游客浏览处理\r\nconst handleGuestBrowse = () => {\r\n  uni.showModal({\r\n    title: '游客模式',\r\n    content: '游客模式下部分功能受限，建议登录后使用完整功能。确定以游客身份浏览吗？',\r\n    confirmText: '确定浏览',\r\n    cancelText: '返回登录',\r\n    success: (res) => {\r\n      if (res.confirm) {\r\n        // 跳转到首页\r\n        uni.reLaunch({\r\n          url: '/pages/index/index'\r\n        })\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// 登录后跳转处理\r\nconst navigateAfterLogin = async () => {\r\n  console.log('登录成功，处理跳转逻辑')\r\n  \r\n  // 延迟跳转，让用户看到成功状态\r\n  setTimeout(() => {\r\n    NavigationGuard.handleLoginSuccess()\r\n  }, 1000)\r\n}\r\n\r\n// 登录错误处理\r\nconst handleLoginError = (error) => {\r\n  let title = '登录失败'\r\n  let content = error.message || '登录过程中发生未知错误，请稍后重试'\r\n  \r\n  // 根据错误类型显示不同提示\r\n  if (error.message && error.message.includes('取消')) {\r\n    title = '登录取消'\r\n    content = '您取消了微信授权。您可以选择游客浏览，或稍后重新登录获取完整功能。'\r\n  } else if (error.message && error.message.includes('网络')) {\r\n    title = '网络错误'\r\n    content = '网络连接异常，请检查网络设置后重试。'\r\n  } else if (error.message && error.message.includes('服务器')) {\r\n    title = '服务异常'\r\n    content = '服务器暂时无法响应，请稍后重试。'\r\n  }\r\n  \r\n  uni.showModal({\r\n    title,\r\n    content,\r\n    showCancel: false,\r\n    confirmText: '知道了'\r\n  })\r\n}\r\n\r\n// 显示用户协议\r\nconst showUserAgreement = () => {\r\n  uni.showModal({\r\n    title: '用户协议',\r\n    content: '这里应该显示完整的用户协议内容...',\r\n    showCancel: false,\r\n    confirmText: '知道了'\r\n  })\r\n}\r\n\r\n// 显示隐私政策\r\nconst showPrivacyPolicy = () => {\r\n  uni.showModal({\r\n    title: '隐私政策',\r\n    content: '这里应该显示完整的隐私政策内容...',\r\n    showCancel: false,\r\n    confirmText: '知道了'\r\n  })\r\n}\r\n\r\n// 检查登录状态\r\nconst checkAuthState = () => {\r\n  if (authStore.isAuthenticated) {\r\n    console.log('用户已登录，跳转至首页')\r\n    uni.reLaunch({\r\n      url: '/pages/index/index'\r\n    })\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  // 检查是否已经登录\r\n  checkAuthState()\r\n  \r\n  // 获取应用版本信息\r\n  // #ifdef APP-PLUS\r\n  plus.runtime.getProperty(plus.runtime.appid, (widgetInfo) => {\r\n    appVersion.value = widgetInfo.version\r\n  })\r\n  // #endif\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-container {\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  position: relative;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 60rpx 40rpx 40rpx;\r\n}\r\n\r\n.background-decoration {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  pointer-events: none;\r\n  \r\n  .circle {\r\n    position: absolute;\r\n    border-radius: 50%;\r\n    background: rgba(255, 255, 255, 0.1);\r\n    animation: float 6s ease-in-out infinite;\r\n    \r\n    &.circle-1 {\r\n      width: 200rpx;\r\n      height: 200rpx;\r\n      top: 10%;\r\n      right: -50rpx;\r\n      animation-delay: 0s;\r\n    }\r\n    \r\n    &.circle-2 {\r\n      width: 150rpx;\r\n      height: 150rpx;\r\n      bottom: 20%;\r\n      left: -30rpx;\r\n      animation-delay: -2s;\r\n    }\r\n    \r\n    &.circle-3 {\r\n      width: 100rpx;\r\n      height: 100rpx;\r\n      top: 50%;\r\n      left: 20rpx;\r\n      animation-delay: -4s;\r\n    }\r\n  }\r\n}\r\n\r\n@keyframes float {\r\n  0%, 100% {\r\n    transform: translateY(0rpx) rotate(0deg);\r\n  }\r\n  50% {\r\n    transform: translateY(-30rpx) rotate(180deg);\r\n  }\r\n}\r\n\r\n.header-section {\r\n  text-align: center;\r\n  margin-bottom: 80rpx;\r\n  z-index: 1;\r\n  \r\n  .app-logo {\r\n    width: 120rpx;\r\n    height: 120rpx;\r\n    margin-bottom: 30rpx;\r\n    border-radius: 24rpx;\r\n    background: rgba(255, 255, 255, 0.2);\r\n  }\r\n  \r\n  .app-title {\r\n    display: block;\r\n    font-size: 40rpx;\r\n    font-weight: 600;\r\n    color: white;\r\n    margin-bottom: 15rpx;\r\n    text-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.2);\r\n  }\r\n  \r\n  .app-subtitle {\r\n    font-size: 28rpx;\r\n    color: rgba(255, 255, 255, 0.9);\r\n  }\r\n}\r\n\r\n.features-section {\r\n  width: 100%;\r\n  max-width: 600rpx;\r\n  margin-bottom: 60rpx;\r\n  z-index: 1;\r\n  \r\n  .feature-item {\r\n    display: flex;\r\n    align-items: center;\r\n    background: rgba(255, 255, 255, 0.15);\r\n    backdrop-filter: blur(10rpx);\r\n    padding: 30rpx;\r\n    margin-bottom: 20rpx;\r\n    border-radius: 20rpx;\r\n    \r\n    .feature-icon {\r\n      width: 80rpx;\r\n      height: 80rpx;\r\n      border-radius: 16rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      margin-right: 30rpx;\r\n      flex-shrink: 0;\r\n    }\r\n    \r\n    .feature-content {\r\n      flex: 1;\r\n      \r\n      .feature-title {\r\n        display: block;\r\n        font-size: 32rpx;\r\n        font-weight: 600;\r\n        color: white;\r\n        margin-bottom: 8rpx;\r\n      }\r\n      \r\n      .feature-desc {\r\n        font-size: 26rpx;\r\n        color: rgba(255, 255, 255, 0.8);\r\n        line-height: 1.4;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.login-prompt {\r\n  text-align: center;\r\n  margin-bottom: 50rpx;\r\n  z-index: 1;\r\n  \r\n  .prompt-text {\r\n    font-size: 30rpx;\r\n    color: rgba(255, 255, 255, 0.9);\r\n    line-height: 1.5;\r\n  }\r\n}\r\n\r\n.login-actions {\r\n  width: 100%;\r\n  max-width: 500rpx;\r\n  margin-bottom: 40rpx;\r\n  z-index: 1;\r\n  \r\n  .wechat-login-btn {\r\n    width: 100%;\r\n    height: 88rpx;\r\n    background: #07c160;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 44rpx;\r\n    font-size: 32rpx;\r\n    font-weight: 600;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-bottom: 30rpx;\r\n    box-shadow: 0 8rpx 24rpx rgba(7, 193, 96, 0.3);\r\n    transition: all 0.3s ease;\r\n    \r\n    &.loading {\r\n      background: #a0a0a0;\r\n      box-shadow: none;\r\n    }\r\n    \r\n    &:not(.loading):active {\r\n      transform: translateY(2rpx);\r\n      box-shadow: 0 4rpx 12rpx rgba(7, 193, 96, 0.4);\r\n    }\r\n    \r\n    .btn-text {\r\n      font-size: 32rpx;\r\n    }\r\n  }\r\n  \r\n  .guest-browse-btn {\r\n    width: 100%;\r\n    height: 80rpx;\r\n    background: transparent;\r\n    color: white;\r\n    border: 2rpx solid rgba(255, 255, 255, 0.3);\r\n    border-radius: 40rpx;\r\n    font-size: 28rpx;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    \r\n    &:active {\r\n      background: rgba(255, 255, 255, 0.1);\r\n    }\r\n  }\r\n}\r\n\r\n.login-notice {\r\n  text-align: center;\r\n  margin-bottom: 40rpx;\r\n  z-index: 1;\r\n  \r\n  .notice-text {\r\n    font-size: 24rpx;\r\n    color: rgba(255, 255, 255, 0.7);\r\n    line-height: 1.5;\r\n  }\r\n}\r\n\r\n.agreement-section {\r\n  text-align: center;\r\n  margin-bottom: 30rpx;\r\n  z-index: 1;\r\n  \r\n  .agreement-text {\r\n    font-size: 22rpx;\r\n    color: rgba(255, 255, 255, 0.6);\r\n    line-height: 1.5;\r\n    \r\n    .link-text {\r\n      color: rgba(255, 255, 255, 0.9);\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n}\r\n\r\n.version-info {\r\n  text-align: center;\r\n  z-index: 1;\r\n  \r\n  .version-text {\r\n    font-size: 20rpx;\r\n    color: rgba(255, 255, 255, 0.5);\r\n  }\r\n}\r\n\r\n.loading-mask {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 999;\r\n  \r\n  .loading-content {\r\n    background: white;\r\n    padding: 60rpx;\r\n    border-radius: 20rpx;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    \r\n    .loading-text {\r\n      font-size: 28rpx;\r\n      color: #333;\r\n      margin-top: 30rpx;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import MiniProgramPage from 'E:/personal/wx/uni-ui/pages/login/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["useAuthStore","ref","reactive","computed","uni","NavigationGuard","onMounted"],"mappings":"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"}