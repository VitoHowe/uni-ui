{
  "task": "定位并修复 word-detail 页面的 `/api/word-books/{id}/words` 双请求",
  "timestamp": "2025-11-16T22:52:45+08:00",
  "known": [
    "`useWordPracticeStore.selectBook(bookId)` 默认 `preloadWords=true`，在 state 变化后会 `await loadWords(bookId)` 并填充 `wordsByBook`。",
    "word-detail 页面在 `watch(() => store.selectedBookId)` 与 `handleSelectBook` 中也会显式调用 `store.loadWords`。",
    "`fetchWordBookWords` 会直接命中 `/word-books/{id}/words`，没有内部节流或去重机制。"
  ],
  "unknown": [
    "word-detail 初始化（`onLoad -> initDetailPage`）到底在哪些步骤触发 `loadWords`？watch、fallback、store action 的时序是怎样的？",
    "WordBookSelector -> `handleSelectBook` 是否导致双请求？有没有必要保留两次调用或加入 guard？",
    "除 selector/watch 外是否还有其它入口会直接调用 `store.loadWords`？例如刷新按钮、quick actions？"
  ],
  "prioritized_questions": [
    {
      "id": "WD-1",
      "priority": "high",
      "question": "word-detail 初始化为什么会在短时间内触发两次 `/word-books/{id}/words` 请求？"
    },
    {
      "id": "WD-2",
      "priority": "high",
      "question": "WordBookSelector 回调（`handleSelectBook`）是否导致额外的重复请求？"
    },
    {
      "id": "WD-3",
      "priority": "medium",
      "question": "是否还存在其它按钮/刷新逻辑直接调用 `store.loadWords` 需要同步梳理？"
    }
  ]
}
